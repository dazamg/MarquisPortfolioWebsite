(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[730],{6907:function(e){"use strict";e.exports=function(e){if(e=String(e||""),n.test(e))return"rtl";if(a.test(e))return"ltr";return"neutral"};var t="\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc",r="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff",n=new RegExp("^[^"+r+"]*["+t+"]"),a=new RegExp("^[^"+t+"]*["+r+"]")},5573:function(e){"use strict";var t=/["'&<>]/;e.exports=function(e){var r,n=""+e,a=t.exec(n);if(!a)return n;var o="",i=0,s=0;for(i=a.index;i<n.length;i++){switch(n.charCodeAt(i)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#39;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==i&&(o+=n.substring(s,i)),s=i+1,o+=r}return s!==i?o+n.substring(s,i):o}},8181:function(e,t,r){var n;e=r.nmd(e),function(a){var o=t,i=(e&&e.exports,"object"==typeof r.g&&r.g);i.global!==i&&i.window;var s=/([\0-\u02FF\u0370-\u1AAF\u1B00-\u1DBF\u1E00-\u20CF\u2100-\uD7FF\uE000-\uFE1F\uFE30-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])([\u0300-\u036F\u1AB0-\u1AFF\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]+)/g,c=/([\uD800-\uDBFF])([\uDC00-\uDFFF])/g,l=function(e){for(var t="",r=(e=e.replace(s,(function(e,t,r){return l(r)+t})).replace(c,"$2$1")).length;r--;)t+=e.charAt(r);return t},u={version:"0.2.0",reverse:l};void 0===(n=function(){return u}.call(t,r,t,e))||(e.exports=n)}()},8156:function(e,t){"use strict";for(var r="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),n={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},a={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:r?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},o={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=1;i<20;i++)o["f"+i]=111+i;function s(e,t,r){t&&!("byKey"in t)&&(r=t,t=null),Array.isArray(e)||(e=[e]);var n=e.map((function(e){return c(e,t)})),a=function(e){return n.some((function(t){return l(t,e)}))};return null==r?a:a(r)}function c(e,t){var r=t&&t.byKey,a={},o=(e=e.replace("++","+add")).split("+"),i=o.length;for(var s in n)a[n[s]]=!1;var c=!0,l=!1,d=void 0;try{for(var h,p=o[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){var v=h.value,g=v.endsWith("?")&&v.length>1;g&&(v=v.slice(0,-1));var m=f(v),y=n[m];1!==i&&y||(r?a.key=m:a.which=u(v)),y&&(a[y]=!g||null)}}catch(b){l=!0,d=b}finally{try{!c&&p.return&&p.return()}finally{if(l)throw d}}return a}function l(e,t){for(var r in e){var n=e[r],a=void 0;if(null!=n&&((null!=(a="key"===r&&null!=t.key?t.key.toLowerCase():"which"===r?91===n&&93===t.which?91:t.which:t[r])||!1!==n)&&a!==n))return!1}return!0}function u(e){return e=f(e),o[e]||e.toUpperCase().charCodeAt(0)}function f(e){return e=e.toLowerCase(),e=a[e]||e}t.TB=function(e,t){return s(e,{byKey:!0},t)}},2705:function(e,t,r){var n=r(5639).Symbol;e.exports=n},4239:function(e,t,r){var n=r(2705),a=r(9607),o=r(2333),i=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?a(e):o(e)}},7561:function(e,t,r){var n=r(7990),a=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(a,""):e}},1957:function(e,t,r){var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},9607:function(e,t,r){var n=r(2705),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(c){}var a=i.call(e);return n&&(t?e[s]=r:delete e[s]),a}},2333:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5639:function(e,t,r){var n=r(1957),a="object"==typeof self&&self&&self.Object===Object&&self,o=n||a||Function("return this")();e.exports=o},7990:function(e){var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},3279:function(e,t,r){var n=r(3218),a=r(7771),o=r(4841),i=Math.max,s=Math.min;e.exports=function(e,t,r){var c,l,u,f,d,h,p=0,v=!1,g=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var r=c,n=l;return c=l=void 0,p=t,f=e.apply(n,r)}function b(e){return p=e,d=setTimeout(x,t),v?y(e):f}function w(e){var r=e-h;return void 0===h||r>=t||r<0||g&&e-p>=u}function x(){var e=a();if(w(e))return O(e);d=setTimeout(x,function(e){var r=t-(e-h);return g?s(r,u-(e-p)):r}(e))}function O(e){return d=void 0,m&&c?y(e):(c=l=void 0,f)}function k(){var e=a(),r=w(e);if(c=arguments,l=this,h=e,r){if(void 0===d)return b(h);if(g)return clearTimeout(d),d=setTimeout(x,t),y(h)}return void 0===d&&(d=setTimeout(x,t)),f}return t=o(t)||0,n(r)&&(v=!!r.leading,u=(g="maxWait"in r)?i(o(r.maxWait)||0,t):u,m="trailing"in r?!!r.trailing:m),k.cancel=function(){void 0!==d&&clearTimeout(d),p=0,c=h=l=d=void 0},k.flush=function(){return void 0===d?f:O(a())},k}},3218:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},3448:function(e,t,r){var n=r(4239),a=r(7005);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==n(e)}},7771:function(e,t,r){var n=r(5639);e.exports=function(){return n.Date.now()}},3493:function(e,t,r){var n=r(3279),a=r(3218);e.exports=function(e,t,r){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(r)&&(o="leading"in r?!!r.leading:o,i="trailing"in r?!!r.trailing:i),n(e,t,{leading:o,maxWait:t,trailing:i})}},4841:function(e,t,r){var n=r(7561),a=r(3218),o=r(3448),i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=s.test(e);return r||c.test(e)?l(e.slice(2),r?2:8):i.test(e)?NaN:+e}},5730:function(e,t,r){"use strict";r.d(t,{M:function(){return Zn},c:function(){return ea}});var n=r(7294);function a(e){return!0===(null!=(t=e)&&"object"===typeof t&&!1===Array.isArray(t))&&"[object Object]"===Object.prototype.toString.call(e);var t}var o,i,s,c=function(e){var t,r;return!1!==a(e)&&("function"===typeof(t=e.constructor)&&(!1!==a(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")))},l=r(4155),u="undefined"!==typeof Symbol,f="undefined"!==typeof Map,d="undefined"!==typeof Set,h=u?Symbol("immer-nothing"):((o={})["immer-nothing"]=!0,o),p=u?Symbol("immer-draftable"):"__$immer_draftable",v=u?Symbol("immer-state"):"__$immer_state",g=u?Symbol.iterator:"@@iterator",m=function(e,t){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function y(e,t){function r(){this.constructor=e}m(e,t),e.prototype=(r.prototype=t.prototype,new r)}function b(e){return!!e&&!!e[v]}function w(e){return!!e&&(function(e){if(!e||"object"!==typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[p]||!!e.constructor[p]||A(e)||F(e))}!function(e){e[e.Object=0]="Object",e[e.Array=1]="Array",e[e.Map=2]="Map",e[e.Set=3]="Set"}(i||(i={})),function(e){e[e.ProxyObject=0]="ProxyObject",e[e.ProxyArray=1]="ProxyArray",e[e.ES5Object=2]="ES5Object",e[e.ES5Array=3]="ES5Array",e[e.Map=4]="Map",e[e.Set=5]="Set"}(s||(s={}));var x="undefined"!==typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:"undefined"!==typeof Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function O(e,t){k(e)===i.Object?x(e).forEach((function(r){return t(r,e[r],e)})):e.forEach((function(r,n){return t(n,r,e)}))}function k(e){if(e||B(),e[v])switch(e[v].type){case s.ES5Object:case s.ProxyObject:return i.Object;case s.ES5Array:case s.ProxyArray:return i.Array;case s.Map:return i.Map;case s.Set:return i.Set}return Array.isArray(e)?i.Array:A(e)?i.Map:F(e)?i.Set:i.Object}function E(e,t){return k(e)===i.Map?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function C(e,t){return k(e)===i.Map?e.get(t):e[t]}function P(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function A(e){return f&&e instanceof Map}function F(e){return d&&e instanceof Set}function j(e){return e.copy||e.base}function D(e,t){if(void 0===t&&(t=!1),Array.isArray(e))return e.slice();var r=Object.create(Object.getPrototypeOf(e));return x(e).forEach((function(n){if(n!==v){var a=Object.getOwnPropertyDescriptor(e,n),o=a.value;if(a.get){if(!t)throw new Error("Immer drafts cannot have computed properties");o=a.get.call(e)}a.enumerable?r[n]=o:Object.defineProperty(r,n,{value:o,writable:!0,configurable:!0})}})),r}function S(e,t){if(w(e)&&!b(e)&&!Object.isFrozen(e)){var r=k(e);r===i.Set?e.add=e.clear=e.delete=N:r===i.Map&&(e.set=e.clear=e.delete=N),Object.freeze(e),t&&O(e,(function(e,t){return S(t,!0)}))}}function N(){throw new Error("This object has been frozen and should not be mutated")}function B(){throw new Error("Illegal state, please file a bug")}var M=function(){function e(e,t){this.drafts=[],this.parent=e,this.immer=t,this.canAutoFreeze=!0}return e.prototype.usePatches=function(e){e&&(this.patches=[],this.inversePatches=[],this.patchListener=e)},e.prototype.revoke=function(){this.leave(),this.drafts.forEach(R),this.drafts=null},e.prototype.leave=function(){this===e.current&&(e.current=this.parent)},e.enter=function(t){var r=new e(e.current,t);return e.current=r,r},e}();function R(e){var t=e[v];t.type===s.ProxyObject||t.type===s.ProxyArray?t.revoke():t.revoked=!0}function _(e,t,r){var n=r.drafts[0],a=void 0!==t&&t!==n;if(e.willFinalize(r,t,a),a){if(n[v].modified)throw r.revoke(),new Error("An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.");w(t)&&(t=T(e,t,r),r.parent||W(e,t)),r.patches&&(r.patches.push({op:"replace",path:[],value:t}),r.inversePatches.push({op:"replace",path:[],value:n[v].base}))}else t=T(e,n,r,[]);return r.revoke(),r.patches&&r.patchListener(r.patches,r.inversePatches),t!==h?t:void 0}function T(e,t,r,n){var a=t[v];if(!a)return Object.isFrozen(t)?t:z(e,t,r);if(a.scope!==r)return t;if(!a.modified)return W(e,a.base,!0),a.base;if(!a.finalized){if(a.finalized=!0,z(e,a.draft,r,n),e.onDelete&&a.type!==s.Set)if(e.useProxies){O(a.assigned,(function(t,r){r||e.onDelete(a,t)}))}else{var o=a.base,i=a.copy;O(o,(function(t){E(i,t)||e.onDelete(a,t)}))}e.onCopy&&e.onCopy(a),e.autoFreeze&&r.canAutoFreeze&&S(a.copy,!1),n&&r.patches&&function(e,t,r,n){switch(e.type){case s.ProxyObject:case s.ES5Object:case s.Map:return function(e,t,r,n){var a=e.base,o=e.copy;O(e.assigned,(function(e,i){var s=C(a,e),c=C(o,e),l=i?E(a,e)?"replace":"add":"remove";if(s!==c||"replace"!==l){var u=t.concat(e);r.push("remove"===l?{op:l,path:u}:{op:l,path:u,value:c}),n.push("add"===l?{op:"remove",path:u}:"remove"===l?{op:"add",path:u,value:s}:{op:"replace",path:u,value:s})}}))}(e,t,r,n);case s.ES5Array:case s.ProxyArray:return function(e,t,r,n){var a,o,i=e.base,s=e.assigned,c=e.copy;c||B();c.length<i.length&&(i=(a=[c,i])[0],c=a[1],r=(o=[n,r])[0],n=o[1]);var l=c.length-i.length,u=0;for(;i[u]===c[u]&&u<i.length;)++u;var f=i.length;for(;f>u&&i[f-1]===c[f+l-1];)--f;for(var d=u;d<f;++d)if(s[d]&&c[d]!==i[d]){var h=t.concat([d]);r.push({op:"replace",path:h,value:c[d]}),n.push({op:"replace",path:h,value:i[d]})}var p=r.length;for(d=f+l-1;d>=f;--d){h=t.concat([d]);r[p+d-f]={op:"add",path:h,value:c[d]},n.push({op:"remove",path:h})}}(e,t,r,n);case s.Set:(function(e,t,r,n){var a=e.base,o=e.copy,i=0;a.forEach((function(e){if(!o.has(e)){var a=t.concat([i]);r.push({op:"remove",path:a,value:e}),n.unshift({op:"add",path:a,value:e})}i++})),i=0,o.forEach((function(e){if(!a.has(e)){var o=t.concat([i]);r.push({op:"add",path:o,value:e}),n.unshift({op:"remove",path:o,value:e})}i++}))})(e,t,r,n)}}(a,n,r.patches,r.inversePatches)}return a.copy}function z(e,t,r,n){var a=t[v];return a&&(a.type!==s.ES5Object&&a.type!==s.ES5Array||(a.copy=D(a.draft,!0)),t=a.copy),O(t,(function(o,i){return L(e,r,t,a,t,o,i,n)})),t}function L(e,t,r,n,a,o,s,c){if(s===a)throw Error("Immer forbids circular references");var l=!!n&&a===r,u=F(a);if(b(s)){var f=c&&l&&!u&&!E(n.assigned,o)?c.concat(o):void 0;(function(e,t,r){switch(k(e)){case i.Map:e.set(t,r);break;case i.Set:e.delete(t),e.add(r);break;default:e[t]=r}})(a,o,s=T(e,s,t,f)),b(s)&&(t.canAutoFreeze=!1)}else{if(l&&P(s,C(n.base,o)))return;w(s)&&(O(s,(function(a,o){return L(e,t,r,n,s,a,o,c)})),t.parent||W(e,s))}l&&e.onAssign&&!u&&e.onAssign(n,o,s)}function W(e,t,r){void 0===r&&(r=!1),e.autoFreeze&&!b(t)&&S(t,r)}var I={get:function(e,t){if(t===v)return e;var r=e.drafts;if(!e.modified&&E(r,t))return r[t];var n=j(e)[t];if(e.finalized||!w(n))return n;if(e.modified){if(n!==$(e.base,t))return n;r=e.copy}return r[t]=e.scope.immer.createProxy(n,e)},has:function(e,t){return t in j(e)},ownKeys:function(e){return Reflect.ownKeys(j(e))},set:function(e,t,r){if(!e.modified){var n=$(e.base,t);if(r?P(n,r)||r===e.drafts[t]:P(n,r)&&t in e.base)return!0;K(e),V(e)}return e.assigned[t]=!0,e.copy[t]=r,!0},deleteProperty:function(e,t){return void 0!==$(e.base,t)||t in e.base?(e.assigned[t]=!1,K(e),V(e)):e.assigned[t]&&delete e.assigned[t],e.copy&&delete e.copy[t],!0},getOwnPropertyDescriptor:function(e,t){var r=j(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&(n.writable=!0,n.configurable=e.type!==s.ProxyArray||"length"!==t),n},defineProperty:function(){throw new Error("Object.defineProperty() cannot be used on an Immer draft")},getPrototypeOf:function(e){return Object.getPrototypeOf(e.base)},setPrototypeOf:function(){throw new Error("Object.setPrototypeOf() cannot be used on an Immer draft")}},q={};function $(e,t){var r=e[v],n=Reflect.getOwnPropertyDescriptor(r?j(r):e,t);return n&&n.value}function V(e){if(!e.modified){if(e.modified=!0,e.type===s.ProxyObject||e.type===s.ProxyArray){var t=e.copy=D(e.base);O(e.drafts,(function(e,r){t[e]=r})),e.drafts=void 0}e.parent&&V(e.parent)}}function K(e){e.copy||(e.copy=D(e.base))}function U(e,t,r){e.drafts.forEach((function(e){e[v].finalizing=!0})),r?b(t)&&t[v].scope===e&&ee(e.drafts):(e.patches&&te(e.drafts[0]),ee(e.drafts))}function H(e,t){var r=Array.isArray(e),n=X(e);O(n,(function(t){!function(e,t,r){var n=Z[t];n?n.enumerable=r:Z[t]=n={configurable:!0,enumerable:r,get:function(){return function(e,t){Q(e);var r=J(j(e),t);if(e.finalizing)return r;if(r===J(e.base,t)&&w(r))return Y(e),e.copy[t]=e.scope.immer.createProxy(r,e);return r}(this[v],t)},set:function(e){!function(e,t,r){if(Q(e),e.assigned[t]=!0,!e.modified){if(P(r,J(j(e),t)))return;G(e),Y(e)}e.copy[t]=r}(this[v],t,e)}};Object.defineProperty(e,t,n)}(n,t,r||function(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!(!r||!r.enumerable)}(e,t))}));var a,o,i,c={type:r?s.ES5Array:s.ES5Object,scope:t?t.scope:M.current,modified:!1,finalizing:!1,finalized:!1,assigned:{},parent:t,base:e,draft:n,copy:null,revoked:!1,isManual:!1};return a=n,o=v,i=c,Object.defineProperty(a,o,{value:i,enumerable:!1,writable:!0}),n}function J(e,t){var r=e[v];if(r&&!r.finalizing){r.finalizing=!0;var n=e[t];return r.finalizing=!1,n}return e[t]}function G(e){e.modified||(e.modified=!0,e.parent&&G(e.parent))}function Y(e){e.copy||(e.copy=X(e.base))}function X(e){var t=e&&e[v];if(t){t.finalizing=!0;var r=D(t.draft,!0);return t.finalizing=!1,r}return D(e)}O(I,(function(e,t){q[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),q.deleteProperty=function(e,t){if(isNaN(parseInt(t)))throw new Error("Immer only supports deleting array indices");return I.deleteProperty.call(this,e[0],t)},q.set=function(e,t,r){if("length"!==t&&isNaN(parseInt(t)))throw new Error("Immer only supports setting array indices and the 'length' property");return I.set.call(this,e[0],t,r,e[0])};var Z={};function Q(e){if(!0===e.revoked)throw new Error("Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+JSON.stringify(j(e)))}function ee(e){for(var t=e.length-1;t>=0;t--){var r=e[t][v];if(!r.modified)switch(r.type){case s.ES5Array:ne(r)&&G(r);break;case s.ES5Object:re(r)&&G(r)}}}function te(e){if(e&&"object"===typeof e){var t=e[v];if(t){var r=t.base,n=t.draft,a=t.assigned,o=t.type;if(o===s.ES5Object)O(n,(function(e){e!==v&&(void 0!==r[e]||E(r,e)?a[e]||te(n[e]):(a[e]=!0,G(t)))})),O(r,(function(e){void 0!==n[e]||E(n,e)||(a[e]=!1,G(t))}));else if(o===s.ES5Array){if(ne(t)&&(G(t),a.length=!0),n.length<r.length)for(var i=n.length;i<r.length;i++)a[i]=!1;else for(i=r.length;i<n.length;i++)a[i]=!0;var c=Math.min(n.length,r.length);for(i=0;i<c;i++)void 0===a[i]&&te(n[i])}}}}function re(e){for(var t=e.base,r=e.draft,n=Object.keys(r),a=n.length-1;a>=0;a--){var o=n[a],i=t[o];if(void 0===i&&!E(t,o))return!0;var s=r[o],c=s&&s[v];if(c?c.base!==i:!P(s,i))return!0}return n.length!==Object.keys(t).length}function ne(e){var t=e.draft;if(t.length!==e.base.length)return!0;var r=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!r||r.get)}var ae=function(e){if(!e)throw new Error("Map is not polyfilled");function t(e,t){return this[v]={type:s.Map,parent:t,scope:t?t.scope:M.current,modified:!1,finalized:!1,copy:void 0,assigned:void 0,base:e,draft:this,isManual:!1,revoked:!1},this}y(t,e);var r=t.prototype;return Object.defineProperty(r,"size",{get:function(){return j(this[v]).size},enumerable:!0,configurable:!0}),r.has=function(e){return j(this[v]).has(e)},r.set=function(e,t){var r=this[v];return Q(r),j(r).get(e)!==t&&(oe(r),r.scope.immer.markChanged(r),r.assigned.set(e,!0),r.copy.set(e,t),r.assigned.set(e,!0)),this},r.delete=function(e){if(!this.has(e))return!1;var t=this[v];return Q(t),oe(t),t.scope.immer.markChanged(t),t.assigned.set(e,!1),t.copy.delete(e),!0},r.clear=function(){var e=this[v];return Q(e),oe(e),e.scope.immer.markChanged(e),e.assigned=new Map,e.copy.clear()},r.forEach=function(e,t){var r=this;j(this[v]).forEach((function(n,a,o){e.call(t,r.get(a),a,r)}))},r.get=function(e){var t=this[v];Q(t);var r=j(t).get(e);if(t.finalized||!w(r))return r;if(r!==t.base.get(e))return r;var n=t.scope.immer.createProxy(r,t);return oe(t),t.copy.set(e,n),n},r.keys=function(){return j(this[v]).keys()},r.values=function(){var e,t=this,r=this.keys();return(e={})[g]=function(){return t.values()},e.next=function(){var e=r.next();return e.done?e:{done:!1,value:t.get(e.value)}},e},r.entries=function(){var e,t=this,r=this.keys();return(e={})[g]=function(){return t.entries()},e.next=function(){var e=r.next();if(e.done)return e;var n=t.get(e.value);return{done:!1,value:[e.value,n]}},e},r[g]=function(){return this.entries()},t}(Map);function oe(e){e.copy||(e.assigned=new Map,e.copy=new Map(e.base))}var ie=function(e){if(!e)throw new Error("Set is not polyfilled");function t(e,t){return this[v]={type:s.Set,parent:t,scope:t?t.scope:M.current,modified:!1,finalized:!1,copy:void 0,base:e,draft:this,drafts:new Map,revoked:!1,isManual:!1},this}y(t,e);var r=t.prototype;return Object.defineProperty(r,"size",{get:function(){return j(this[v]).size},enumerable:!0,configurable:!0}),r.has=function(e){var t=this[v];return Q(t),t.copy?!!t.copy.has(e)||!(!t.drafts.has(e)||!t.copy.has(t.drafts.get(e))):t.base.has(e)},r.add=function(e){var t=this[v];return Q(t),t.copy?t.copy.add(e):t.base.has(e)||(se(t),t.scope.immer.markChanged(t),t.copy.add(e)),this},r.delete=function(e){if(!this.has(e))return!1;var t=this[v];return Q(t),se(t),t.scope.immer.markChanged(t),t.copy.delete(e)||!!t.drafts.has(e)&&t.copy.delete(t.drafts.get(e))},r.clear=function(){var e=this[v];return Q(e),se(e),e.scope.immer.markChanged(e),e.copy.clear()},r.values=function(){var e=this[v];return Q(e),se(e),e.copy.values()},r.entries=function(){var e=this[v];return Q(e),se(e),e.copy.entries()},r.keys=function(){return this.values()},r[g]=function(){return this.values()},r.forEach=function(e,t){for(var r=this.values(),n=r.next();!n.done;)e.call(t,n.value,n.value,this),n=r.next()},t}(Set);function se(e){e.copy||(e.copy=new Set,e.base.forEach((function(t){if(w(t)){var r=e.scope.immer.createProxy(t,e);e.drafts.set(t,r),e.copy.add(r)}else e.copy.add(t)})))}function ce(e,t){return t.forEach((function(t){var r=t.path,n=t.op;r.length||B();for(var a=e,o=0;o<r.length-1;o++)if(!(a=C(a,r[o]))||"object"!==typeof a)throw new Error("Cannot apply patch, path doesn't resolve: "+r.join("/"));var s=k(a),c=le(t.value),l=r[r.length-1];switch(n){case"replace":switch(s){case i.Map:return a.set(l,c);case i.Set:throw new Error('Sets cannot have "replace" patches.');default:return a[l]=c}case"add":switch(s){case i.Array:return a.splice(l,0,c);case i.Map:return a.set(l,c);case i.Set:return a.add(c);default:return a[l]=c}case"remove":switch(s){case i.Array:return a.splice(l,1);case i.Map:return a.delete(l);case i.Set:return a.delete(t.value);default:return delete a[l]}default:throw new Error("Unsupported patch operation: "+n)}})),e}function le(e){if(!e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(le);if(A(e))return new Map(Array.from(e.entries()).map((function(e){return[e[0],le(e[1])]})));if(F(e))return new Set(Array.from(e).map(le));var t=Object.create(Object.getPrototypeOf(e));for(var r in e)t[r]=le(e[r]);return t}function ue(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,a++)n[a]=o[i];return n}var fe={useProxies:"undefined"!==typeof Proxy&&"undefined"!==typeof Proxy.revocable&&"undefined"!==typeof Reflect,autoFreeze:"undefined"===typeof l&&"verifyMinified"===function(){}.name,onAssign:null,onDelete:null,onCopy:null},de=new(function(){function e(e){var t=this;this.useProxies=!1,this.autoFreeze=!1,O(fe,(function(r,n){var a,o;t[r]=null!==(o=null===(a=e)||void 0===a?void 0:a[r])&&void 0!==o?o:n})),this.setUseProxies(this.useProxies),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}return e.prototype.produce=function(e,t,r){var n,a=this;if("function"===typeof e&&"function"!==typeof t){var o=t;t=e;var i=this;return function(e){var r=arguments,n=this;void 0===e&&(e=o);for(var a=[],s=1;s<arguments.length;s++)a[s-1]=r[s];return i.produce(e,(function(e){return t.call.apply(t,ue([n,e],a))}))}}if("function"!==typeof t)throw new Error("The first or second argument to `produce` must be a function");if(void 0!==r&&"function"!==typeof r)throw new Error("The third argument to `produce` must be a function or undefined");if(w(e)){var s=M.enter(this),c=this.createProxy(e,void 0),l=!0;try{n=t(c),l=!1}finally{l?s.revoke():s.leave()}return"undefined"!==typeof Promise&&n instanceof Promise?n.then((function(e){return s.usePatches(r),_(a,e,s)}),(function(e){throw s.revoke(),e})):(s.usePatches(r),_(this,n,s))}if((n=t(e))!==h)return void 0===n&&(n=e),W(this,n,!0),n},e.prototype.produceWithPatches=function(e,t,r){var n,a,o=this;return"function"===typeof e?function(t){for(var r=arguments,n=[],a=1;a<arguments.length;a++)n[a-1]=r[a];return o.produceWithPatches(t,(function(t){return e.apply(void 0,ue([t],n))}))}:(r&&B(),[this.produce(e,t,(function(e,t){n=e,a=t})),n,a])},e.prototype.createDraft=function(e){if(!w(e))throw new Error("First argument to `createDraft` must be a plain object, an array, or an immerable object");var t=M.enter(this),r=this.createProxy(e,void 0);return r[v].isManual=!0,t.leave(),r},e.prototype.finishDraft=function(e,t){var r=e&&e[v];if(!r||!r.isManual)throw new Error("First argument to `finishDraft` must be a draft returned by `createDraft`");if(r.finalized)throw new Error("The given draft is already finalized");var n=r.scope;return n.usePatches(t),_(this,void 0,n)},e.prototype.setAutoFreeze=function(e){this.autoFreeze=e},e.prototype.setUseProxies=function(e){this.useProxies=e},e.prototype.applyPatches=function(e,t){var r;for(r=t.length-1;r>=0;r--){var n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}return b(e)?ce(e,t):this.produce(e,(function(e){return ce(e,t.slice(r+1))}))},e.prototype.createProxy=function(e,t){var r=A(e)?function(e,t){return new ae(e,t)}(e,t):F(e)?function(e,t){return new ie(e,t)}(e,t):this.useProxies?function(e,t){var r=Array.isArray(e),n={type:r?s.ProxyArray:s.ProxyObject,scope:t?t.scope:M.current,modified:!1,finalized:!1,assigned:{},parent:t,base:e,draft:null,drafts:{},copy:null,revoke:null,isManual:!1},a=n,o=I;r&&(a=[n],o=q);var i=Proxy.revocable(a,o),c=i.revoke,l=i.proxy;return n.draft=l,n.revoke=c,l}(e,t):H(e,t);return(t?t.scope:M.current).drafts.push(r),r},e.prototype.willFinalize=function(e,t,r){this.useProxies||U(e,t,r)},e.prototype.markChanged=function(e){this.useProxies?V(e):G(e)},e}()),he=de.produce,pe=(de.produceWithPatches.bind(de),de.setAutoFreeze.bind(de),de.setUseProxies.bind(de),de.applyPatches.bind(de),de.createDraft.bind(de)),ve=de.finishDraft.bind(de);var ge=r(8181);function me(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ye(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var be=new WeakMap,we=new WeakMap,xe=new WeakMap,Oe=new WeakMap,ke=new WeakMap,Ee=new WeakMap,Ce=/\s/,Pe=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Ae=/['\u2018\u2019]/,Fe=e=>{for(var t=0,r=null,n=e.charCodeAt(0);n;)if(De(n)){var a=Se(n,e,t);if("SURR"===r||"BMP"===r)break;t+=2,r=a?"MOD":"SURR",n=e.charCodeAt(t)}else if(8205!==n)if(Be(n)){if(r&&"ZWJ"!==r&&"VAR"!==r)break;t+=1,r="BMP",n=e.charCodeAt(t)}else{if(!Ne(n)){if("MOD"===r){t+=1;break}break}if(r&&"ZWJ"!==r)break;t+=1,r="VAR",n=e.charCodeAt(t)}else t+=1,r="ZWJ",n=e.charCodeAt(t);return t||1},je=(e,t)=>{if(Ce.test(e))return!1;if(Ae.test(e)){var r=t.charAt(0),n=Fe(r);r=t.slice(0,n);var a=t.slice(n);if(je(r,a))return!0}return!Pe.test(e)},De=e=>55296<=e&&e<=57343,Se=(e,t,r)=>{if(55356===e){var n=t.charCodeAt(r+1);return n<=57343&&n>=57339}return!1},Ne=e=>e<=65039&&e>=65024,Be=e=>10084===e||9794===e||9792===e||9760===e||9877===e||9992===e||9711===e;function Me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(r),!0).forEach((function(t){me(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _e={above(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{voids:r=!1,mode:n="lowest",at:a=e.selection,match:o}=t;if(a){var i=_e.path(e,a),s="lowest"===n;for(var[c,l]of _e.levels(e,{at:i,voids:r,match:o,reverse:s}))if(!Qe.isText(c)&&!$e.equals(i,l))return[c,l]}},addMark(e,t,r){e.addMark(t,r)},after(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a={anchor:_e.point(e,t,{edge:"end"}),focus:_e.end(e,[])},{distance:o=1}=n,i=0;for(var s of _e.positions(e,Re({},n,{at:a}))){if(i>o)break;0!==i&&(r=s),i++}return r},before(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a={anchor:_e.start(e,[]),focus:_e.point(e,t,{edge:"start"})},{distance:o=1}=n,i=0;for(var s of _e.positions(e,Re({},n,{at:a,reverse:!0}))){if(i>o)break;0!==i&&(r=s),i++}return r},deleteBackward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:r="character"}=t;e.deleteBackward(r)},deleteForward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:r="character"}=t;e.deleteForward(r)},deleteFragment(e){e.deleteFragment()},edges:(e,t)=>[_e.start(e,t),_e.end(e,t)],end:(e,t)=>_e.point(e,t,{edge:"end"}),first(e,t){var r=_e.path(e,t,{edge:"start"});return _e.node(e,r)},fragment(e,t){var r=_e.range(e,t);return Le.fragment(e,r)},hasBlocks:(e,t)=>t.children.some((t=>_e.isBlock(e,t))),hasInlines:(e,t)=>t.children.some((t=>Qe.isText(t)||_e.isInline(e,t))),hasTexts:(e,t)=>t.children.every((e=>Qe.isText(e))),insertBreak(e){e.insertBreak()},insertFragment(e,t){e.insertFragment(t)},insertNode(e,t){e.insertNode(t)},insertText(e,t){e.insertText(t)},isBlock:(e,t)=>Te.isElement(t)&&!e.isInline(t),isEditor:e=>c(e)&&"function"===typeof e.addMark&&"function"===typeof e.apply&&"function"===typeof e.deleteBackward&&"function"===typeof e.deleteForward&&"function"===typeof e.deleteFragment&&"function"===typeof e.insertBreak&&"function"===typeof e.insertFragment&&"function"===typeof e.insertNode&&"function"===typeof e.insertText&&"function"===typeof e.isInline&&"function"===typeof e.isVoid&&"function"===typeof e.normalizeNode&&"function"===typeof e.onChange&&"function"===typeof e.removeMark&&(null===e.marks||c(e.marks))&&(null===e.selection||Ge.isRange(e.selection))&&Le.isNodeList(e.children)&&qe.isOperationList(e.operations),isEnd(e,t,r){var n=_e.end(e,r);return Ue.equals(t,n)},isEdge:(e,t,r)=>_e.isStart(e,t,r)||_e.isEnd(e,t,r),isEmpty(e,t){var{children:r}=t,[n]=r;return 0===r.length||1===r.length&&Qe.isText(n)&&""===n.text&&!e.isVoid(t)},isInline:(e,t)=>Te.isElement(t)&&e.isInline(t),isNormalizing(e){var t=xe.get(e);return void 0===t||t},isStart(e,t,r){if(0!==t.offset)return!1;var n=_e.start(e,r);return Ue.equals(t,n)},isVoid:(e,t)=>Te.isElement(t)&&e.isVoid(t),last(e,t){var r=_e.path(e,t,{edge:"end"});return _e.node(e,r)},leaf(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=_e.path(e,t,r);return[Le.leaf(e,n),n]},*levels(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:r=e.selection,reverse:n=!1,voids:a=!1}=t,{match:o}=t;if(null==o&&(o=()=>!0),r){var i=[],s=_e.path(e,r);for(var[c,l]of Le.levels(e,s))if(o(c)&&(i.push([c,l]),!a&&_e.isVoid(e,c)))break;n&&i.reverse(),yield*i}},marks(e){var{marks:t,selection:r}=e;if(!r)return null;if(t)return t;if(Ge.isExpanded(r)){var[n]=_e.nodes(e,{match:Qe.isText});if(n){var[a]=n;return ye(a,["text"])}return{}}var{anchor:o}=r,{path:i}=o,[s]=_e.leaf(e,i);if(0===o.offset){var c=_e.previous(e,{at:i,match:Qe.isText}),l=_e.above(e,{match:t=>_e.isBlock(e,t)});if(c&&l){var[u,f]=c,[,d]=l;$e.isAncestor(d,f)&&(s=u)}}return ye(s,["text"])},next(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:r="lowest",voids:n=!1}=t,{match:a,at:o=e.selection}=t;if(o){var[,i]=_e.last(e,o),[,s]=_e.last(e,[]),c=[i,s];if($e.isPath(o)&&0===o.length)throw new Error("Cannot get the next node from the root node!");if(null==a)if($e.isPath(o)){var[l]=_e.parent(e,o);a=e=>l.children.includes(e)}else a=()=>!0;var[,u]=_e.nodes(e,{at:c,match:a,mode:r,voids:n});return u}},node(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=_e.path(e,t,r);return[Le.get(e,n),n]},*nodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:r=e.selection,mode:n="all",universal:a=!1,reverse:o=!1,voids:i=!1}=t,{match:s}=t;if(s||(s=()=>!0),r){var c,l;if(ze.isSpan(r))c=r[0],l=r[1];else{var u=_e.path(e,r,{edge:"start"}),f=_e.path(e,r,{edge:"end"});c=o?f:u,l=o?u:f}var d,h=Le.nodes(e,{reverse:o,from:c,to:l,pass:t=>{var[r]=t;return!i&&_e.isVoid(e,r)}}),p=[];for(var[v,g]of h){var m=d&&0===$e.compare(g,d[1]);if("highest"!==n||!m)if(s(v))if("lowest"===n&&m)d=[v,g];else{var y="lowest"===n?d:[v,g];y&&(a?p.push(y):yield y),d=[v,g]}else if(a&&!m&&Qe.isText(v))return}"lowest"===n&&d&&(a?p.push(d):yield d),a&&(yield*p)}},normalize(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{force:r=!1}=t,n=e=>be.get(e)||[];if(_e.isNormalizing(e)){if(r){var a=Array.from(Le.nodes(e),(e=>{var[,t]=e;return t}));be.set(e,a)}0!==n(e).length&&_e.withoutNormalizing(e,(()=>{for(var t=42*n(e).length,r=0;0!==n(e).length;){if(r>t)throw new Error("\n            Could not completely normalize the editor after ".concat(t," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.\n          "));var a=n(e).pop(),o=_e.node(e,a);e.normalizeNode(o),r++}}))}},parent(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=_e.path(e,t,r),a=$e.parent(n);return _e.node(e,a)},path(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{depth:n,edge:a}=r;if($e.isPath(t))if("start"===a){var[,o]=Le.first(e,t);t=o}else if("end"===a){var[,i]=Le.last(e,t);t=i}return Ge.isRange(t)&&(t="start"===a?Ge.start(t):"end"===a?Ge.end(t):$e.common(t.anchor.path,t.focus.path)),Ue.isPoint(t)&&(t=t.path),null!=n&&(t=t.slice(0,n)),t},pathRef(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,a={current:t,affinity:n,unref(){var{current:t}=a;return _e.pathRefs(e).delete(a),a.current=null,t}};return _e.pathRefs(e).add(a),a},pathRefs(e){var t=Oe.get(e);return t||(t=new Set,Oe.set(e,t)),t},point(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{edge:n="start"}=r;if($e.isPath(t)){var a;if("end"===n){var[,o]=Le.last(e,t);a=o}else{var[,i]=Le.first(e,t);a=i}var s=Le.get(e,a);if(!Qe.isText(s))throw new Error("Cannot get the ".concat(n," point in the node at path [").concat(t,"] because it has no ").concat(n," text node."));return{path:a,offset:"end"===n?s.text.length:0}}if(Ge.isRange(t)){var[c,l]=Ge.edges(t);return"start"===n?c:l}return t},pointRef(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,a={current:t,affinity:n,unref(){var{current:t}=a;return _e.pointRefs(e).delete(a),a.current=null,t}};return _e.pointRefs(e).add(a),a},pointRefs(e){var t=ke.get(e);return t||(t=new Set,ke.set(e,t)),t},*positions(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:r=e.selection,unit:n="offset",reverse:a=!1}=t;if(r){var o=_e.range(e,r),[i,s]=Ge.edges(o),c=a?s:i,l="",u=0,f=0,d=null,h=!1,p=()=>{null==d&&(d="character"===n?Fe(l):"word"===n?(e=>{for(var t,r=0,n=0,a=!1;t=e.charAt(n);){var o=Fe(t);t=e.slice(n,n+o);var i=e.slice(n+o);if(je(t,i))a=!0,r+=o;else{if(a)break;r+=o}n+=o}return r})(l):"line"===n||"block"===n?l.length:1,l=l.slice(d)),f=a?f-d:f+d,d=(u-=d)>=0?null:0-u};for(var[v,g]of _e.nodes(e,{at:r,reverse:a})){if(Te.isElement(v)){if(e.isVoid(v)){yield _e.start(e,g);continue}if(e.isInline(v))continue;if(_e.hasInlines(e,v)){var m=$e.isAncestor(g,s.path)?s:_e.end(e,g),y=$e.isAncestor(g,i.path)?i:_e.start(e,g),b=_e.string(e,{anchor:y,focus:m});l=a?(0,ge.reverse)(b):b,h=!0}}if(Qe.isText(v)){var w=$e.equals(g,c.path);for(u=v.text.length,f=a?u:0,w&&(u=a?c.offset:u-c.offset,f=c.offset),(w||h||"offset"===n)&&(yield{path:g,offset:f});""!==l&&(p(),u>=0);)yield{path:g,offset:f};h=!1}}}},previous(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:r="lowest",voids:n=!1}=t,{match:a,at:o=e.selection}=t;if(o){var[,i]=_e.first(e,o),[,s]=_e.first(e,[]),c=[i,s];if($e.isPath(o)&&0===o.length)throw new Error("Cannot get the previous node from the root node!");if(null==a)if($e.isPath(o)){var[l]=_e.parent(e,o);a=e=>l.children.includes(e)}else a=()=>!0;var[,u]=_e.nodes(e,{reverse:!0,at:c,match:a,mode:r,voids:n});return u}},range:(e,t,r)=>Ge.isRange(t)&&!r?t:{anchor:_e.start(e,t),focus:_e.end(e,r||t)},rangeRef(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,a={current:t,affinity:n,unref(){var{current:t}=a;return _e.rangeRefs(e).delete(a),a.current=null,t}};return _e.rangeRefs(e).add(a),a},rangeRefs(e){var t=Ee.get(e);return t||(t=new Set,Ee.set(e,t)),t},removeMark(e,t){e.removeMark(t)},start:(e,t)=>_e.point(e,t,{edge:"start"}),string(e,t){var r=_e.range(e,t),[n,a]=Ge.edges(r),o="";for(var[i,s]of _e.nodes(e,{at:r,match:Qe.isText})){var c=i.text;$e.equals(s,a.path)&&(c=c.slice(0,a.offset)),$e.equals(s,n.path)&&(c=c.slice(n.offset)),o+=c}return o},transform(e,t){e.children=pe(e.children);var r=e.selection&&pe(e.selection);switch(t.type){case"insert_node":var{path:n,node:a}=t,o=Le.parent(e,n),i=n[n.length-1];if(o.children.splice(i,0,a),r)for(var[s,c]of Ge.points(r))r[c]=Ue.transform(s,t);break;case"insert_text":var{path:l,offset:u,text:f}=t,d=Le.leaf(e,l),h=d.text.slice(0,u),p=d.text.slice(u);if(d.text=h+f+p,r)for(var[v,g]of Ge.points(r))r[g]=Ue.transform(v,t);break;case"merge_node":var{path:m}=t,y=Le.get(e,m),w=$e.previous(m),x=Le.get(e,w),O=Le.parent(e,m),k=m[m.length-1];if(Qe.isText(y)&&Qe.isText(x))x.text+=y.text;else{if(Qe.isText(y)||Qe.isText(x))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(m,"] to nodes of different interaces: ").concat(y," ").concat(x));x.children.push(...y.children)}if(O.children.splice(k,1),r)for(var[E,C]of Ge.points(r))r[C]=Ue.transform(E,t);break;case"move_node":var{path:P,newPath:A}=t;if($e.isAncestor(P,A))throw new Error("Cannot move a path [".concat(P,"] to new path [").concat(A,"] because the destination is inside itself."));var F=Le.get(e,P),j=Le.parent(e,P),D=P[P.length-1];j.children.splice(D,1);var S=$e.transform(P,t),N=Le.get(e,$e.parent(S)),B=S[S.length-1];if(N.children.splice(B,0,F),r)for(var[M,R]of Ge.points(r))r[R]=Ue.transform(M,t);break;case"remove_node":var{path:_}=t,T=_[_.length-1];if(Le.parent(e,_).children.splice(T,1),r)for(var[z,L]of Ge.points(r)){var W=Ue.transform(z,t);if(null!=r&&null!=W)r[L]=W;else{var I=void 0,q=void 0;for(var[$,V]of Le.texts(e)){if(-1!==$e.compare(V,_)){q=[$,V];break}I=[$,V]}I?(z.path=I[1],z.offset=I[0].text.length):q?(z.path=q[1],z.offset=0):r=null}}break;case"remove_text":var{path:K,offset:U,text:H}=t,J=Le.leaf(e,K),G=J.text.slice(0,U),Y=J.text.slice(U+H.length);if(J.text=G+Y,r)for(var[X,Z]of Ge.points(r))r[Z]=Ue.transform(X,t);break;case"set_node":var{path:Q,newProperties:ee}=t;if(0===Q.length)throw new Error("Cannot set properties on the root node!");var te=Le.get(e,Q);for(var re in ee){if("children"===re||"text"===re)throw new Error('Cannot set the "'.concat(re,'" property of nodes!'));var ne=ee[re];null==ne?delete te[re]:te[re]=ne}break;case"set_selection":var{newProperties:ae}=t;if(null==ae)r=ae;else if(null==r){if(!Ge.isRange(ae))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(ae)," when there is no current selection."));r=ae}else Object.assign(r,ae);break;case"split_node":var{path:oe,position:ie,properties:se}=t;if(0===oe.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(oe,"] because the root node cannot be split."));var ce,le=Le.get(e,oe),ue=Le.parent(e,oe),fe=oe[oe.length-1];if(Qe.isText(le)){var de=le.text.slice(0,ie),he=le.text.slice(ie);le.text=de,ce=Re({},le,{},se,{text:he})}else{var ge=le.children.slice(0,ie),me=le.children.slice(ie);le.children=ge,ce=Re({},le,{},se,{children:me})}if(ue.children.splice(fe+1,0,ce),r)for(var[ye,be]of Ge.points(r))r[be]=Ue.transform(ye,t)}e.children=ve(e.children),e.selection=r?b(r)?ve(r):r:null},unhangRange(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:n=!1}=r,[a,o]=Ge.edges(t);if(0!==a.offset||0!==o.offset||Ge.isCollapsed(t))return t;var i=_e.above(e,{at:o,match:t=>_e.isBlock(e,t)}),s=i?i[1]:[],c={anchor:_e.start(e,[]),focus:o},l=!0;for(var[u,f]of _e.nodes(e,{at:c,match:Qe.isText,reverse:!0,voids:n}))if(l)l=!1;else if(""!==u.text||$e.isBefore(f,s)){o={path:f,offset:u.text.length};break}return{anchor:a,focus:o}},void(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _e.above(e,Re({},t,{match:t=>_e.isVoid(e,t)}))},withoutNormalizing(e,t){var r=_e.isNormalizing(e);xe.set(e,!1),t(),xe.set(e,r),_e.normalize(e)}},Te={isElement:e=>c(e)&&Le.isNodeList(e.children)&&!_e.isEditor(e),isElementList:e=>Array.isArray(e)&&(0===e.length||Te.isElement(e[0])),matches(e,t){for(var r in t)if("children"!==r&&e[r]!==t[r])return!1;return!0}},ze={isSpan:e=>Array.isArray(e)&&2===e.length&&e.every($e.isPath)},Le={ancestor(e,t){var r=Le.get(e,t);if(Qe.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(r));return r},*ancestors(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var n of $e.ancestors(t,r)){var a=[Le.ancestor(e,n),n];yield a}},child(e,t){if(Qe.isText(e))throw new Error("Cannot get the child of a text node: ".concat(JSON.stringify(e)));var r=e.children[t];if(null==r)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(JSON.stringify(e)));return r},*children(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{reverse:n=!1}=r,a=Le.ancestor(e,t),{children:o}=a,i=n?o.length-1:0;n?i>=0:i<o.length;){var s=Le.child(a,i),c=t.concat(i);yield[s,c],i=n?i-1:i+1}},common(e,t,r){var n=$e.common(t,r);return[Le.get(e,n),n]},descendant(e,t){var r=Le.get(e,t);if(_e.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(r));return r},*descendants(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[r,n]of Le.nodes(e,t))0!==n.length&&(yield[r,n])},*elements(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[r,n]of Le.nodes(e,t))Te.isElement(r)&&(yield[r,n])},first(e,t){for(var r=t.slice(),n=Le.get(e,r);n&&!Qe.isText(n)&&0!==n.children.length;)n=n.children[0],r.push(0);return[n,r]},fragment(e,t){if(Qe.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(JSON.stringify(e)));return he(e,(e=>{var[r,n]=Ge.edges(t),a=Le.nodes(e,{reverse:!0,pass:e=>{var[,r]=e;return!Ge.includes(t,r)}});for(var[,o]of a){if(!Ge.includes(t,o)){var i=Le.parent(e,o),s=o[o.length-1];i.children.splice(s,1)}if($e.equals(o,n.path)){var c=Le.leaf(e,o);c.text=c.text.slice(0,n.offset)}if($e.equals(o,r.path)){var l=Le.leaf(e,o);l.text=l.text.slice(r.offset)}}delete e.selection})).children},get(e,t){for(var r=e,n=0;n<t.length;n++){var a=t[n];if(Qe.isText(r)||!r.children[a])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(JSON.stringify(e)));r=r.children[a]}return r},has(e,t){for(var r=e,n=0;n<t.length;n++){var a=t[n];if(Qe.isText(r)||!r.children[a])return!1;r=r.children[a]}return!0},isNode:e=>Qe.isText(e)||Te.isElement(e)||_e.isEditor(e),isNodeList:e=>Array.isArray(e)&&(0===e.length||Le.isNode(e[0])),last(e,t){for(var r=t.slice(),n=Le.get(e,r);n&&!Qe.isText(n)&&0!==n.children.length;){var a=n.children.length-1;n=n.children[a],r.push(a)}return[n,r]},leaf(e,t){var r=Le.get(e,t);if(!Qe.isText(r))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(r));return r},*levels(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var n of $e.levels(t,r)){var a=Le.get(e,n);yield[a,n]}},matches:(e,t)=>Te.isElement(e)&&Te.matches(e,t)||Qe.isText(e)&&Qe.matches(e,t),*nodes(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{pass:r,reverse:n=!1}=t,{from:a=[],to:o}=t,i=new Set,s=[],c=e;!o||!(n?$e.isBefore(s,o):$e.isAfter(s,o));)if(i.has(c)||(yield[c,s]),i.has(c)||Qe.isText(c)||0===c.children.length||null!=r&&!1!==r([c,s])){if(0===s.length)break;if(!n){var l=$e.next(s);if(Le.has(e,l)){s=l,c=Le.get(e,s);continue}}if(n&&0!==s[s.length-1])s=$e.previous(s),c=Le.get(e,s);else s=$e.parent(s),c=Le.get(e,s),i.add(c)}else{i.add(c);var u=n?c.children.length-1:0;$e.isAncestor(s,a)&&(u=a[s.length]),s=s.concat(u),c=Le.get(e,s)}},parent(e,t){var r=$e.parent(t),n=Le.get(e,r);if(Qe.isText(n))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return n},string:e=>Qe.isText(e)?e.text:e.children.map(Le.string).join(""),*texts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[r,n]of Le.nodes(e,t))Qe.isText(r)&&(yield[r,n])}};function We(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?We(Object(r),!0).forEach((function(t){me(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):We(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var qe={isNodeOperation:e=>qe.isOperation(e)&&e.type.endsWith("_node"),isOperation(e){if(!c(e))return!1;switch(e.type){case"insert_node":return $e.isPath(e.path)&&Le.isNode(e.node);case"insert_text":return"number"===typeof e.offset&&"string"===typeof e.text&&$e.isPath(e.path);case"merge_node":return"number"===typeof e.position&&("number"===typeof e.target||null===e.target)&&$e.isPath(e.path)&&c(e.properties);case"move_node":return $e.isPath(e.path)&&$e.isPath(e.newPath);case"remove_node":return $e.isPath(e.path)&&Le.isNode(e.node);case"remove_text":return"number"===typeof e.offset&&"string"===typeof e.text&&$e.isPath(e.path);case"set_node":return $e.isPath(e.path)&&c(e.properties)&&c(e.newProperties);case"set_selection":return null===e.properties&&Ge.isRange(e.newProperties)||null===e.newProperties&&Ge.isRange(e.properties)||c(e.properties)&&c(e.newProperties);case"split_node":return $e.isPath(e.path)&&"number"===typeof e.position&&("number"===typeof e.target||null===e.target)&&c(e.properties);default:return!1}},isOperationList:e=>Array.isArray(e)&&(0===e.length||qe.isOperation(e[0])),isSelectionOperation:e=>qe.isOperation(e)&&e.type.endsWith("_selection"),isTextOperation:e=>qe.isOperation(e)&&e.type.endsWith("_text"),inverse(e){switch(e.type){case"insert_node":return Ie({},e,{type:"remove_node"});case"insert_text":return Ie({},e,{type:"remove_text"});case"merge_node":return Ie({},e,{type:"split_node",path:$e.previous(e.path)});case"move_node":var{newPath:t,path:r}=e;return $e.equals(t,r)?e:Ie({},e,{path:$e.transform(r,e),newPath:$e.transform($e.next(r),e)});case"remove_node":return Ie({},e,{type:"insert_node"});case"remove_text":return Ie({},e,{type:"insert_text"});case"set_node":var{properties:n,newProperties:a}=e;return Ie({},e,{properties:a,newProperties:n});case"set_selection":var{properties:o,newProperties:i}=e;return Ie({},e,null==o?{properties:i,newProperties:null}:null==i?{properties:null,newProperties:o}:{properties:i,newProperties:o});case"split_node":return Ie({},e,{type:"merge_node",path:$e.next(e.path)})}}},$e={ancestors(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,n=$e.levels(e,t);return n=r?n.slice(1):n.slice(0,-1)},common(e,t){for(var r=[],n=0;n<e.length&&n<t.length;n++){var a=e[n];if(a!==t[n])break;r.push(a)}return r},compare(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0},endsAfter(e,t){var r=e.length-1,n=e.slice(0,r),a=t.slice(0,r),o=e[r],i=t[r];return $e.equals(n,a)&&o>i},endsAt(e,t){var r=e.length,n=e.slice(0,r),a=t.slice(0,r);return $e.equals(n,a)},endsBefore(e,t){var r=e.length-1,n=e.slice(0,r),a=t.slice(0,r),o=e[r],i=t[r];return $e.equals(n,a)&&o<i},equals:(e,t)=>e.length===t.length&&e.every(((e,r)=>e===t[r])),isAfter:(e,t)=>1===$e.compare(e,t),isAncestor:(e,t)=>e.length<t.length&&0===$e.compare(e,t),isBefore:(e,t)=>-1===$e.compare(e,t),isChild:(e,t)=>e.length===t.length+1&&0===$e.compare(e,t),isCommon:(e,t)=>e.length<=t.length&&0===$e.compare(e,t),isDescendant:(e,t)=>e.length>t.length&&0===$e.compare(e,t),isParent:(e,t)=>e.length+1===t.length&&0===$e.compare(e,t),isPath:e=>Array.isArray(e)&&(0===e.length||"number"===typeof e[0]),isSibling(e,t){if(e.length!==t.length)return!1;var r=e.slice(0,-1),n=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&$e.equals(r,n)},levels(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,n=[],a=0;a<=e.length;a++)n.push(e.slice(0,a));return r&&n.reverse(),n},next(e){if(0===e.length)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},parent(e){if(0===e.length)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(0===e.length)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!$e.isAncestor(t,e)&&!$e.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return he(e,(n=>{var{affinity:a="forward"}=r;if(0!==e.length)switch(t.type){case"insert_node":var{path:o}=t;($e.equals(o,n)||$e.endsBefore(o,n)||$e.isAncestor(o,n))&&(n[o.length-1]+=1);break;case"remove_node":var{path:i}=t;if($e.equals(i,n)||$e.isAncestor(i,n))return null;$e.endsBefore(i,n)&&(n[i.length-1]-=1);break;case"merge_node":var{path:s,position:c}=t;$e.equals(s,n)||$e.endsBefore(s,n)?n[s.length-1]-=1:$e.isAncestor(s,n)&&(n[s.length-1]-=1,n[s.length]+=c);break;case"split_node":var{path:l,position:u}=t;if($e.equals(l,n)){if("forward"===a)n[n.length-1]+=1;else if("backward"!==a)return null}else $e.endsBefore(l,n)?n[l.length-1]+=1:$e.isAncestor(l,n)&&e[l.length]>=u&&(n[l.length-1]+=1,n[l.length]-=u);break;case"move_node":var{path:f,newPath:d}=t;if($e.equals(f,d))return;if($e.isAncestor(f,n)||$e.equals(f,n)){var h=d.slice();if($e.endsBefore(f,d)&&f.length<d.length)h[Math.min(d.length,f.length)-1]-=1;return h.concat(n.slice(f.length))}$e.endsBefore(d,n)||$e.equals(d,n)||$e.isAncestor(d,n)?($e.endsBefore(f,n)&&(n[f.length-1]-=1),n[d.length-1]+=1):$e.endsBefore(f,n)&&($e.equals(d,n)&&(n[d.length-1]+=1),n[f.length-1]-=1)}}))}},Ve={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var a=$e.transform(r,t,{affinity:n});e.current=a,null==a&&e.unref()}}};function Ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Ue={compare(e,t){var r=$e.compare(e.path,t.path);return 0===r?e.offset<t.offset?-1:e.offset>t.offset?1:0:r},isAfter:(e,t)=>1===Ue.compare(e,t),isBefore:(e,t)=>-1===Ue.compare(e,t),equals:(e,t)=>e.offset===t.offset&&$e.equals(e.path,t.path),isPoint:e=>c(e)&&"number"===typeof e.offset&&$e.isPath(e.path),transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return he(e,(e=>{var{affinity:n="forward"}=r,{path:a,offset:o}=e;switch(t.type){case"insert_node":case"move_node":e.path=$e.transform(a,t,r);break;case"insert_text":$e.equals(t.path,a)&&t.offset<=o&&(e.offset+=t.text.length);break;case"merge_node":$e.equals(t.path,a)&&(e.offset+=t.position),e.path=$e.transform(a,t,r);break;case"remove_text":$e.equals(t.path,a)&&t.offset<=o&&(e.offset-=Math.min(o-t.offset,t.text.length));break;case"remove_node":if($e.equals(t.path,a)||$e.isAncestor(t.path,a))return null;e.path=$e.transform(a,t,r);break;case"split_node":if($e.equals(t.path,a)){if(t.position===o&&null==n)return null;(t.position<o||t.position===o&&"forward"===n)&&(e.offset-=t.position,e.path=$e.transform(a,t,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(r),!0).forEach((function(t){me(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r,{affinity:"forward"})))}else e.path=$e.transform(a,t,r)}}))}},He={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var a=Ue.transform(r,t,{affinity:n});e.current=a,null==a&&e.unref()}}};function Je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Ge={edges(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,{anchor:n,focus:a}=e;return Ge.isBackward(e)===r?[n,a]:[a,n]},end(e){var[,t]=Ge.edges(e);return t},equals:(e,t)=>Ue.equals(e.anchor,t.anchor)&&Ue.equals(e.focus,t.focus),includes(e,t){if(Ge.isRange(t)){if(Ge.includes(e,t.anchor)||Ge.includes(e,t.focus))return!0;var[r,n]=Ge.edges(e),[a,o]=Ge.edges(t);return Ue.isBefore(r,a)&&Ue.isAfter(n,o)}var[i,s]=Ge.edges(e),c=!1,l=!1;return Ue.isPoint(t)?(c=Ue.compare(t,i)>=0,l=Ue.compare(t,s)<=0):(c=$e.compare(t,i.path)>=0,l=$e.compare(t,s.path)<=0),c&&l},intersection(e,t){var r=ye(e,["anchor","focus"]),[n,a]=Ge.edges(e),[o,i]=Ge.edges(t),s=Ue.isBefore(n,o)?o:n,c=Ue.isBefore(a,i)?a:i;return Ue.isBefore(c,s)?null:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(r),!0).forEach((function(t){me(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({anchor:s,focus:c},r)},isBackward(e){var{anchor:t,focus:r}=e;return Ue.isAfter(t,r)},isCollapsed(e){var{anchor:t,focus:r}=e;return Ue.equals(t,r)},isExpanded:e=>!Ge.isCollapsed(e),isForward:e=>!Ge.isBackward(e),isRange:e=>c(e)&&Ue.isPoint(e.anchor)&&Ue.isPoint(e.focus),*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=Ge.edges(e);return t},transform(e,t,r){var n,a,{affinity:o="inward"}=r;return"inward"===o?Ge.isForward(e)?(n="forward",a="backward"):(n="backward",a="forward"):"outward"===o?Ge.isForward(e)?(n="backward",a="forward"):(n="forward",a="backward"):(n=o,a=o),he(e,(e=>{var r=Ue.transform(e.anchor,t,{affinity:n}),o=Ue.transform(e.focus,t,{affinity:a});if(!r||!o)return null;e.anchor=r,e.focus=o}))}},Ye={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var a=Ge.transform(r,t,{affinity:n});e.current=a,null==a&&e.unref()}}};function Xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(r),!0).forEach((function(t){me(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Qe={equals(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{loose:n=!1}=r;for(var a in e)if((!n||"text"!==a)&&e[a]!==t[a])return!1;for(var o in t)if((!n||"text"!==o)&&e[o]!==t[o])return!1;return!0},isText:e=>c(e)&&"string"===typeof e.text,isTextList:e=>Array.isArray(e)&&(0===e.length||Qe.isText(e[0])),matches(e,t){for(var r in t)if("text"!==r&&e[r]!==t[r])return!1;return!0},decorations(e,t){var r=[Ze({},e)];for(var n of t){var a=ye(n,["anchor","focus"]),[o,i]=Ge.edges(n),s=[],c=0;for(var l of r){var{length:u}=l.text,f=c;if(c+=u,o.offset<=f&&i.offset>=f+u)Object.assign(l,a),s.push(l);else if(o.offset>f+u||i.offset<f||i.offset===f&&0!==f)s.push(l);else{var d=l,h=void 0,p=void 0;if(i.offset<f+u){var v=i.offset-f;p=Ze({},d,{text:d.text.slice(v)}),d=Ze({},d,{text:d.text.slice(0,v)})}if(o.offset>f){var g=o.offset-f;h=Ze({},d,{text:d.text.slice(0,g)}),d=Ze({},d,{text:d.text.slice(g)})}Object.assign(d,a),h&&s.push(h),s.push(d),p&&s.push(p)}}r=s}return r}};function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?et(Object(r),!0).forEach((function(t){me(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(r),!0).forEach((function(t){me(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var at={insertNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_e.withoutNormalizing(e,(()=>{var{hanging:n=!1,voids:a=!1,mode:o="lowest"}=r,{at:i,match:s,select:c}=r;if(Le.isNode(t)&&(t=[t]),0!==t.length){var[l]=t;if(i||(i=e.selection?e.selection:e.children.length>0?_e.end(e,[]):[0],c=!0),null==c&&(c=!1),Ge.isRange(i))if(n||(i=_e.unhangRange(e,i)),Ge.isCollapsed(i))i=i.anchor;else{var[,u]=Ge.edges(i),f=_e.pointRef(e,u);ut.delete(e,{at:i}),i=f.unref()}if(Ue.isPoint(i)){null==s&&(s=Qe.isText(l)?e=>Qe.isText(e):e.isInline(l)?t=>Qe.isText(t)||_e.isInline(e,t):t=>_e.isBlock(e,t));var[d]=_e.nodes(e,{at:i.path,match:s,mode:o,voids:a});if(!d)return;var[,h]=d,p=_e.pathRef(e,h),v=_e.isEnd(e,i,h);ut.splitNodes(e,{at:i,match:s,mode:o,voids:a});var g=p.unref();i=v?$e.next(g):g}var m=$e.parent(i),y=i[i.length-1];if(a||!_e.void(e,{at:m})){for(var b of t){var w=m.concat(y);y++,e.apply({type:"insert_node",path:w,node:b})}if(c){var x=_e.end(e,i);x&&ut.select(e,x)}}}}))},liftNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_e.withoutNormalizing(e,(()=>{var{at:r=e.selection,mode:n="lowest",voids:a=!1}=t,{match:o}=t;if(null==o&&(o=$e.isPath(r)?it(e,r):t=>_e.isBlock(e,t)),r){var i=_e.nodes(e,{at:r,match:o,mode:n,voids:a}),s=Array.from(i,(t=>{var[,r]=t;return _e.pathRef(e,r)}));for(var c of s){var l=c.unref();if(l.length<2)throw new Error("Cannot lift node at a path [".concat(l,"] because it has a depth of less than `2`."));var[u,f]=_e.node(e,$e.parent(l)),d=l[l.length-1],{length:h}=u.children;if(1===h){var p=$e.next(f);ut.moveNodes(e,{at:l,to:p,voids:a}),ut.removeNodes(e,{at:f,voids:a})}else if(0===d)ut.moveNodes(e,{at:l,to:f,voids:a});else if(d===h-1){var v=$e.next(f);ut.moveNodes(e,{at:l,to:v,voids:a})}else{var g=$e.next(l),m=$e.next(f);ut.splitNodes(e,{at:g,voids:a}),ut.moveNodes(e,{at:l,to:m,voids:a})}}}}))},mergeNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_e.withoutNormalizing(e,(()=>{var{match:r,at:n=e.selection}=t,{hanging:a=!1,voids:o=!1,mode:i="lowest"}=t;if(n){if(null==r)if($e.isPath(n)){var[s]=_e.parent(e,n);r=e=>s.children.includes(e)}else r=t=>_e.isBlock(e,t);if(!a&&Ge.isRange(n)&&(n=_e.unhangRange(e,n)),Ge.isRange(n))if(Ge.isCollapsed(n))n=n.anchor;else{var[,c]=Ge.edges(n),l=_e.pointRef(e,c);ut.delete(e,{at:n}),n=l.unref(),null==t.at&&ut.select(e,n)}var[u]=_e.nodes(e,{at:n,match:r,voids:o,mode:i}),f=_e.previous(e,{at:n,match:r,voids:o,mode:i});if(u&&f){var[d,h]=u,[p,v]=f;if(0!==h.length&&0!==v.length){var g,m,y=$e.next(v),b=$e.common(h,v),w=$e.isSibling(h,v),x=Array.from(_e.levels(e,{at:h}),(e=>{var[t]=e;return t})).slice(b.length).slice(0,-1),O=_e.above(e,{at:h,mode:"highest",match:e=>x.includes(e)&&Te.isElement(e)&&1===e.children.length}),k=O&&_e.pathRef(e,O[1]);if(Qe.isText(d)&&Qe.isText(p)){var E=ye(d,["text"]);m=p.text.length,g=E}else{if(!Te.isElement(d)||!Te.isElement(p))throw new Error("Cannot merge the node at path [".concat(h,"] with the previous sibling because it is not the same kind: ").concat(JSON.stringify(d)," ").concat(JSON.stringify(p)));E=ye(d,["children"]);m=p.children.length,g=E}w||ut.moveNodes(e,{at:h,to:y,voids:o}),k&&ut.removeNodes(e,{at:k.current,voids:o}),Te.isElement(p)&&_e.isEmpty(e,p)||Qe.isText(p)&&""===p.text?ut.removeNodes(e,{at:v,voids:o}):e.apply({type:"merge_node",path:y,position:m,target:null,properties:g}),k&&k.unref()}}}}))},moveNodes(e,t){_e.withoutNormalizing(e,(()=>{var{to:r,at:n=e.selection,mode:a="lowest",voids:o=!1}=t,{match:i}=t;if(n){null==i&&(i=$e.isPath(n)?it(e,n):t=>_e.isBlock(e,t));var s=_e.pathRef(e,r),c=_e.nodes(e,{at:n,match:i,mode:a,voids:o}),l=Array.from(c,(t=>{var[,r]=t;return _e.pathRef(e,r)}));for(var u of l){var f=u.unref(),d=s.current;0!==f.length&&e.apply({type:"move_node",path:f,newPath:d})}s.unref()}}))},removeNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_e.withoutNormalizing(e,(()=>{var{hanging:r=!1,voids:n=!1,mode:a="lowest"}=t,{at:o=e.selection,match:i}=t;if(o){null==i&&(i=$e.isPath(o)?it(e,o):t=>_e.isBlock(e,t)),!r&&Ge.isRange(o)&&(o=_e.unhangRange(e,o));var s=_e.nodes(e,{at:o,match:i,mode:a,voids:n}),c=Array.from(s,(t=>{var[,r]=t;return _e.pathRef(e,r)}));for(var l of c){var u=l.unref();if(u){var[f]=_e.node(e,u);e.apply({type:"remove_node",path:u,node:f})}}}}))},setNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_e.withoutNormalizing(e,(()=>{var{match:n,at:a=e.selection}=r,{hanging:o=!1,mode:i="lowest",split:s=!1,voids:c=!1}=r;if(a){if(null==n&&(n=$e.isPath(a)?it(e,a):t=>_e.isBlock(e,t)),!o&&Ge.isRange(a)&&(a=_e.unhangRange(e,a)),s&&Ge.isRange(a)){var l=_e.rangeRef(e,a,{affinity:"inward"}),[u,f]=Ge.edges(a),d="lowest"===i?"lowest":"highest";ut.splitNodes(e,{at:f,match:n,mode:d,voids:c}),ut.splitNodes(e,{at:u,match:n,mode:d,voids:c}),a=l.unref(),null==r.at&&ut.select(e,a)}for(var[h,p]of _e.nodes(e,{at:a,match:n,mode:i,voids:c})){var v={},g={};if(0!==p.length){for(var m in t)"children"!==m&&"text"!==m&&t[m]!==h[m]&&(v[m]=h[m],g[m]=t[m]);0!==Object.keys(g).length&&e.apply({type:"set_node",path:p,properties:v,newProperties:g})}}}}))},splitNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_e.withoutNormalizing(e,(()=>{var{mode:r="lowest",voids:n=!1}=t,{match:a,at:o=e.selection,height:i=0,always:s=!1}=t;if(null==a&&(a=t=>_e.isBlock(e,t)),Ge.isRange(o)&&(o=ot(e,o)),$e.isPath(o)){var c=o,l=_e.point(e,c),[u]=_e.parent(e,c);a=e=>e===u,i=l.path.length-c.length+1,o=l,s=!0}if(o){var f=_e.pointRef(e,o,{affinity:"backward"}),[d]=_e.nodes(e,{at:o,match:a,mode:r,voids:n});if(d){var h=_e.void(e,{at:o,mode:"highest"});if(!n&&h){var[p,v]=h;if(Te.isElement(p)&&e.isInline(p)){var g=_e.after(e,v);if(!g){var m=$e.next(v);ut.insertNodes(e,{text:""},{at:m,voids:n}),g=_e.point(e,m)}o=g,s=!0}i=o.path.length-v.length+1,s=!0}var y=_e.pointRef(e,o),b=o.path.length-i,[,w]=d,x=o.path.slice(0,b),O=0===i?o.offset:o.path[b]+0,k=null;for(var[E,C]of _e.levels(e,{at:x,reverse:!0,voids:n})){var P=!1;if(C.length<w.length||0===C.length||!n&&_e.isVoid(e,E))break;var A=f.current,F=_e.isEnd(e,A,C);if(s||!f||!_e.isEdge(e,A,C)){P=!0;var j=ye(E,["text","children"]);e.apply({type:"split_node",path:C,position:O,target:k,properties:j})}k=O,O=C[C.length-1]+(P||F?1:0)}if(null==t.at){var D=y.current||_e.end(e,[]);ut.select(e,D)}f.unref(),y.unref()}}}))},unsetNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);var n={};for(var a of t)n[a]=null;ut.setNodes(e,n,r)},unwrapNodes(e,t){_e.withoutNormalizing(e,(()=>{var{mode:r="lowest",split:n=!1,voids:a=!1}=t,{at:o=e.selection,match:i}=t;if(o){null==i&&(i=$e.isPath(o)?it(e,o):t=>_e.isBlock(e,t)),$e.isPath(o)&&(o=_e.range(e,o));var s=Ge.isRange(o)?_e.rangeRef(e,o):null,c=_e.nodes(e,{at:o,match:i,mode:r,voids:a}),l=Array.from(c,(t=>{var[,r]=t;return _e.pathRef(e,r)})),u=function(t){var r=t.unref(),[o]=_e.node(e,r),i=_e.range(e,r);n&&s&&(i=Ge.intersection(s.current,i)),ut.liftNodes(e,{at:i,match:e=>o.children.includes(e),voids:a})};for(var f of l)u(f);s&&s.unref()}}))},wrapNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_e.withoutNormalizing(e,(()=>{var{mode:n="lowest",split:a=!1,voids:o=!1}=r,{match:i,at:s=e.selection}=r;if(s){if(null==i&&(i=$e.isPath(s)?it(e,s):e.isInline(t)?t=>_e.isInline(e,t)||Qe.isText(t):t=>_e.isBlock(e,t)),a&&Ge.isRange(s)){var[c,l]=Ge.edges(s),u=_e.rangeRef(e,s,{affinity:"inward"});ut.splitNodes(e,{at:l,match:i,voids:o}),ut.splitNodes(e,{at:c,match:i,voids:o}),s=u.unref(),null==r.at&&ut.select(e,s)}var f=Array.from(_e.nodes(e,{at:s,match:e.isInline(t)?t=>_e.isBlock(e,t):e=>_e.isEditor(e),mode:"lowest",voids:o}));for(var[,d]of f){var h=Ge.isRange(s)?Ge.intersection(s,_e.range(e,d)):s;if(h){var p=Array.from(_e.nodes(e,{at:h,match:i,mode:n,voids:o}));p.length>0&&function(){var[r]=p,n=p[p.length-1],[,a]=r,[,i]=n,s=$e.equals(a,i)?$e.parent(a):$e.common(a,i),c=_e.range(e,a,i),[l]=_e.node(e,s),u=s.length+1,f=$e.next(i.slice(0,u)),d=nt({},t,{children:[]});ut.insertNodes(e,d,{at:f,voids:o}),ut.moveNodes(e,{at:c,match:e=>l.children.includes(e),to:f.concat(0),voids:o})}()}}}}))}},ot=(e,t)=>{if(Ge.isCollapsed(t))return t.anchor;var[,r]=Ge.edges(t),n=_e.pointRef(e,r);return ut.delete(e,{at:t}),n.unref()},it=(e,t)=>{var[r]=_e.node(e,t);return e=>e===r};function st(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?st(Object(r),!0).forEach((function(t){me(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):st(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var ut=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(r),!0).forEach((function(t){me(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},{transform(e,t){e.children=pe(e.children);var r=e.selection&&pe(e.selection);switch(t.type){case"insert_node":var{path:n,node:a}=t,o=Le.parent(e,n),i=n[n.length-1];if(o.children.splice(i,0,a),r)for(var[s,c]of Ge.points(r))r[c]=Ue.transform(s,t);break;case"insert_text":var{path:l,offset:u,text:f}=t,d=Le.leaf(e,l),h=d.text.slice(0,u),p=d.text.slice(u);if(d.text=h+f+p,r)for(var[v,g]of Ge.points(r))r[g]=Ue.transform(v,t);break;case"merge_node":var{path:m}=t,y=Le.get(e,m),w=$e.previous(m),x=Le.get(e,w),O=Le.parent(e,m),k=m[m.length-1];if(Qe.isText(y)&&Qe.isText(x))x.text+=y.text;else{if(Qe.isText(y)||Qe.isText(x))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(m,"] to nodes of different interaces: ").concat(y," ").concat(x));x.children.push(...y.children)}if(O.children.splice(k,1),r)for(var[E,C]of Ge.points(r))r[C]=Ue.transform(E,t);break;case"move_node":var{path:P,newPath:A}=t;if($e.isAncestor(P,A))throw new Error("Cannot move a path [".concat(P,"] to new path [").concat(A,"] because the destination is inside itself."));var F=Le.get(e,P),j=Le.parent(e,P),D=P[P.length-1];j.children.splice(D,1);var S=$e.transform(P,t),N=Le.get(e,$e.parent(S)),B=S[S.length-1];if(N.children.splice(B,0,F),r)for(var[M,R]of Ge.points(r))r[R]=Ue.transform(M,t);break;case"remove_node":var{path:_}=t,T=_[_.length-1];if(Le.parent(e,_).children.splice(T,1),r)for(var[z,L]of Ge.points(r)){var W=Ue.transform(z,t);if(null!=r&&null!=W)r[L]=W;else{var I=void 0,q=void 0;for(var[$,V]of Le.texts(e)){if(-1!==$e.compare(V,_)){q=[$,V];break}I=[$,V]}I?(z.path=I[1],z.offset=I[0].text.length):q?(z.path=q[1],z.offset=0):r=null}}break;case"remove_text":var{path:K,offset:U,text:H}=t,J=Le.leaf(e,K),G=J.text.slice(0,U),Y=J.text.slice(U+H.length);if(J.text=G+Y,r)for(var[X,Z]of Ge.points(r))r[Z]=Ue.transform(X,t);break;case"set_node":var{path:Q,newProperties:ee}=t;if(0===Q.length)throw new Error("Cannot set properties on the root node!");var te=Le.get(e,Q);for(var re in ee){if("children"===re||"text"===re)throw new Error('Cannot set the "'.concat(re,'" property of nodes!'));var ne=ee[re];null==ne?delete te[re]:te[re]=ne}break;case"set_selection":var{newProperties:ae}=t;if(null==ae)r=ae;else if(null==r){if(!Ge.isRange(ae))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(ae)," when there is no current selection."));r=ae}else Object.assign(r,ae);break;case"split_node":var{path:oe,position:ie,properties:se}=t;if(0===oe.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(oe,"] because the root node cannot be split."));var ce,le=Le.get(e,oe),ue=Le.parent(e,oe),fe=oe[oe.length-1];if(Qe.isText(le)){var de=le.text.slice(0,ie),he=le.text.slice(ie);le.text=de,ce=tt({},le,{},se,{text:he})}else{var ge=le.children.slice(0,ie),me=le.children.slice(ie);le.children=ge,ce=tt({},le,{},se,{children:me})}if(ue.children.splice(fe+1,0,ce),r)for(var[ye,be]of Ge.points(r))r[be]=Ue.transform(ye,t)}e.children=ve(e.children),e.selection=r?b(r)?ve(r):r:null}},{},at,{},{collapse(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{edge:r="anchor"}=t,{selection:n}=e;if(n)if("anchor"===r)ut.select(e,n.anchor);else if("focus"===r)ut.select(e,n.focus);else if("start"===r){var[a]=Ge.edges(n);ut.select(e,a)}else if("end"===r){var[,o]=Ge.edges(n);ut.select(e,o)}},deselect(e){var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},move(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{selection:r}=e,{distance:n=1,unit:a="character",reverse:o=!1}=t,{edge:i=null}=t;if(r){"start"===i&&(i=Ge.isBackward(r)?"focus":"anchor"),"end"===i&&(i=Ge.isBackward(r)?"anchor":"focus");var{anchor:s,focus:c}=r,l={distance:n,unit:a},u={};if(null==i||"anchor"===i){var f=o?_e.before(e,s,l):_e.after(e,s,l);f&&(u.anchor=f)}if(null==i||"focus"===i){var d=o?_e.before(e,c,l):_e.after(e,c,l);d&&(u.focus=d)}ut.setSelection(e,u)}},select(e,t){var{selection:r}=e;if(t=_e.range(e,t),r)ut.setSelection(e,t);else{if(!Ge.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(JSON.stringify(t)));e.apply({type:"set_selection",properties:r,newProperties:t})}},setPoint(e,t,r){var{selection:n}=e,{edge:a="both"}=r;if(n){"start"===a&&(a=Ge.isBackward(n)?"focus":"anchor"),"end"===a&&(a=Ge.isBackward(n)?"anchor":"focus");var{anchor:o,focus:i}=n,s="anchor"===a?o:i;ut.setSelection(e,{["anchor"===a?"anchor":"focus"]:ct({},s,{},t)})}},setSelection(e,t){var{selection:r}=e,n={},a={};if(r){for(var o in t)("anchor"===o&&null!=t.anchor&&!Ue.equals(t.anchor,r.anchor)||"focus"===o&&null!=t.focus&&!Ue.equals(t.focus,r.focus)||"anchor"!==o&&"focus"!==o&&t[o]!==r[o])&&(n[o]=r[o],a[o]=t[o]);Object.keys(n).length>0&&e.apply({type:"set_selection",properties:n,newProperties:a})}}},{},{delete(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_e.withoutNormalizing(e,(()=>{var{reverse:r=!1,unit:n="character",distance:a=1,voids:o=!1}=t,{at:i=e.selection,hanging:s=!1}=t;if(i){if(Ge.isRange(i)&&Ge.isCollapsed(i)&&(i=i.anchor),Ue.isPoint(i)){var c=_e.void(e,{at:i,mode:"highest"});if(!o&&c){var[,l]=c;i=l}else{var u={unit:n,distance:a};i={anchor:i,focus:r?_e.before(e,i,u)||_e.start(e,[]):_e.after(e,i,u)||_e.end(e,[])},s=!0}}if($e.isPath(i))ut.removeNodes(e,{at:i,voids:o});else if(!Ge.isCollapsed(i)){s||(i=_e.unhangRange(e,i,{voids:o}));var[f,d]=Ge.edges(i),h=_e.above(e,{match:t=>_e.isBlock(e,t),at:f,voids:o}),p=_e.above(e,{match:t=>_e.isBlock(e,t),at:d,voids:o}),v=h&&p&&!$e.equals(h[1],p[1]),g=$e.equals(f.path,d.path),m=o?null:_e.void(e,{at:f,mode:"highest"}),y=o?null:_e.void(e,{at:d,mode:"highest"});if(m){var b=_e.before(e,f);b&&h&&$e.isAncestor(h[1],b.path)&&(f=b)}if(y){var w=_e.after(e,d);w&&p&&$e.isAncestor(p[1],w.path)&&(d=w)}var x,O=[];for(var k of _e.nodes(e,{at:i,voids:o})){var[E,C]=k;x&&0===$e.compare(C,x)||(!o&&_e.isVoid(e,E)||!$e.isCommon(C,f.path)&&!$e.isCommon(C,d.path))&&(O.push(k),x=C)}var P=Array.from(O,(t=>{var[,r]=t;return _e.pathRef(e,r)})),A=_e.pointRef(e,f),F=_e.pointRef(e,d);if(!g&&!m){var j=A.current,[D]=_e.leaf(e,j),{path:S}=j,{offset:N}=f,B=D.text.slice(N);e.apply({type:"remove_text",path:S,offset:N,text:B})}for(var M of P){var R=M.unref();ut.removeNodes(e,{at:R,voids:o})}if(!y){var _=F.current,[T]=_e.leaf(e,_),{path:z}=_,L=g?f.offset:0,W=T.text.slice(L,d.offset);e.apply({type:"remove_text",path:z,offset:L,text:W})}!g&&v&&F.current&&A.current&&ut.mergeNodes(e,{at:F.current,hanging:!0,voids:o});var I=F.unref()||A.unref();null==t.at&&I&&ut.select(e,I)}}}))},insertFragment(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_e.withoutNormalizing(e,(()=>{var{hanging:n=!1,voids:a=!1}=r,{at:o=e.selection}=r;if(t.length&&o){if(Ge.isRange(o))if(n||(o=_e.unhangRange(e,o)),Ge.isCollapsed(o))o=o.anchor;else{var[,i]=Ge.edges(o);if(!a&&_e.void(e,{at:i}))return;var s=_e.pointRef(e,i);ut.delete(e,{at:o}),o=s.unref()}else $e.isPath(o)&&(o=_e.start(e,o));if(a||!_e.void(e,{at:o})){var c=_e.above(e,{at:o,match:t=>_e.isInline(e,t),mode:"highest",voids:a});if(c){var[,l]=c;if(_e.isEnd(e,o,l))o=_e.after(e,l);else if(_e.isStart(e,o,l)){o=_e.before(e,l)}}var u=_e.above(e,{match:t=>_e.isBlock(e,t),at:o,voids:a}),[,f]=u,d=_e.isStart(e,o,f),h=_e.isEnd(e,o,f),p=!d||d&&h,v=!h,[,g]=Le.first({children:t},[]),[,m]=Le.last({children:t},[]),y=[],b=t=>{var[r,n]=t;return!(p&&$e.isAncestor(n,g)&&Te.isElement(r)&&!e.isVoid(r)&&!e.isInline(r))&&!(v&&$e.isAncestor(n,m)&&Te.isElement(r)&&!e.isVoid(r)&&!e.isInline(r))};for(var w of Le.nodes({children:t},{pass:b}))w[1].length>0&&b(w)&&y.push(w);var x=[],O=[],k=[],E=!0,C=!1;for(var[P]of y)Te.isElement(P)&&!e.isInline(P)?(E=!1,C=!0,O.push(P)):E?x.push(P):k.push(P);var[A]=_e.nodes(e,{at:o,match:t=>Qe.isText(t)||_e.isInline(e,t),mode:"highest",voids:a}),[,F]=A,j=_e.isStart(e,o,F),D=_e.isEnd(e,o,F),S=_e.pathRef(e,h?$e.next(f):f),N=_e.pathRef(e,D?$e.next(F):F);ut.splitNodes(e,{at:o,match:t=>C?_e.isBlock(e,t):Qe.isText(t)||_e.isInline(e,t),mode:C?"lowest":"highest",voids:a});var B=_e.pathRef(e,!j||j&&D?$e.next(F):F);if(ut.insertNodes(e,x,{at:B.current,match:t=>Qe.isText(t)||_e.isInline(e,t),mode:"highest",voids:a}),ut.insertNodes(e,O,{at:S.current,match:t=>_e.isBlock(e,t),mode:"lowest",voids:a}),ut.insertNodes(e,k,{at:N.current,match:t=>Qe.isText(t)||_e.isInline(e,t),mode:"highest",voids:a}),!r.at){var M;M=k.length>0?$e.previous(N.current):O.length>0?$e.previous(S.current):$e.previous(B.current);var R=_e.end(e,M);ut.select(e,R)}B.unref(),S.unref(),N.unref()}}}))},insertText(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_e.withoutNormalizing(e,(()=>{var{voids:n=!1}=r,{at:a=e.selection}=r;if(a){if($e.isPath(a)&&(a=_e.range(e,a)),Ge.isRange(a))if(Ge.isCollapsed(a))a=a.anchor;else{var o=Ge.end(a);if(!n&&_e.void(e,{at:o}))return;var i=_e.pointRef(e,o);ut.delete(e,{at:a,voids:n}),a=i.unref(),ut.setSelection(e,{anchor:a,focus:a})}if(n||!_e.void(e,{at:a})){var{path:s,offset:c}=a;e.apply({type:"insert_text",path:s,offset:c,text:t})}}}))}});function ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(r),!0).forEach((function(t){me(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ft(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ht=()=>{var e={children:[],operations:[],selection:null,marks:null,isInline:()=>!1,isVoid:()=>!1,onChange:()=>{},apply:t=>{for(var r of _e.pathRefs(e))Ve.transform(r,t);for(var n of _e.pointRefs(e))He.transform(n,t);for(var a of _e.rangeRefs(e))Ye.transform(a,t);var o=new Set,i=[],s=e=>{if(e){var t=e.join(",");o.has(t)||(o.add(t),i.push(e))}},c=be.get(e)||[],l=pt(t);for(var u of c){s($e.transform(u,t))}for(var f of l)s(f);be.set(e,i),_e.transform(e,t),e.operations.push(t),_e.normalize(e),"set_selection"===t.type&&(e.marks=null),we.get(e)||(we.set(e,!0),Promise.resolve().then((()=>{we.set(e,!1),e.onChange(),e.operations=[]})))},addMark:(t,r)=>{var{selection:n}=e;if(n)if(Ge.isExpanded(n))ut.setNodes(e,{[t]:r},{match:Qe.isText,split:!0});else{var a=dt({},_e.marks(e)||{},{[t]:r});e.marks=a,e.onChange()}},deleteBackward:t=>{var{selection:r}=e;r&&Ge.isCollapsed(r)&&ut.delete(e,{unit:t,reverse:!0})},deleteForward:t=>{var{selection:r}=e;r&&Ge.isCollapsed(r)&&ut.delete(e,{unit:t})},deleteFragment:()=>{var{selection:t}=e;t&&Ge.isExpanded(t)&&ut.delete(e)},getFragment:()=>{var{selection:t}=e;return t&&Ge.isExpanded(t)?Le.fragment(e,t):[]},insertBreak:()=>{ut.splitNodes(e,{always:!0})},insertFragment:t=>{ut.insertFragment(e,t)},insertNode:t=>{ut.insertNodes(e,t)},insertText:t=>{var{selection:r,marks:n}=e;if(r){if(Ge.isCollapsed(r)){var a=_e.above(e,{match:t=>_e.isInline(e,t),mode:"highest"});if(a){var[,o]=a;if(_e.isEnd(e,r.anchor,o)){var i=_e.after(e,o);ut.setSelection(e,{anchor:i,focus:i})}}}if(n){var s=dt({text:t},n);ut.insertNodes(e,s)}else ut.insertText(e,t);e.marks=null}},normalizeNode:t=>{var[r,n]=t;if(!Qe.isText(r))if(Te.isElement(r)&&0===r.children.length){ut.insertNodes(e,{text:""},{at:n.concat(0),voids:!0})}else for(var a=!_e.isEditor(r)&&(Te.isElement(r)&&(e.isInline(r)||0===r.children.length||Qe.isText(r.children[0])||e.isInline(r.children[0]))),o=0,i=0;i<r.children.length;i++,o++){var s=r.children[i],c=r.children[i-1],l=i===r.children.length-1;if((Qe.isText(s)||Te.isElement(s)&&e.isInline(s))!==a)ut.removeNodes(e,{at:n.concat(o),voids:!0}),o--;else if(Te.isElement(s)){if(e.isInline(s))if(null!=c&&Qe.isText(c)){if(l){ut.insertNodes(e,{text:""},{at:n.concat(o+1),voids:!0}),o++}}else{ut.insertNodes(e,{text:""},{at:n.concat(o),voids:!0}),o++}}else null!=c&&Qe.isText(c)&&(Qe.equals(s,c,{loose:!0})?(ut.mergeNodes(e,{at:n.concat(o),voids:!0}),o--):""===c.text?(ut.removeNodes(e,{at:n.concat(o-1),voids:!0}),o--):l&&""===s.text&&(ut.removeNodes(e,{at:n.concat(o),voids:!0}),o--))}},removeMark:t=>{var{selection:r}=e;if(r)if(Ge.isExpanded(r))ut.unsetNodes(e,t,{match:Qe.isText,split:!0});else{var n=dt({},_e.marks(e)||{});delete n[t],e.marks=n,e.onChange()}}};return e},pt=e=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":var{path:t}=e;return $e.levels(t);case"insert_node":var{node:r,path:n}=e;return[...$e.levels(n),...Qe.isText(r)?[]:Array.from(Le.nodes(r),(e=>{var[,t]=e;return n.concat(t)}))];case"merge_node":var{path:a}=e;return[...$e.ancestors(a),$e.previous(a)];case"move_node":var{path:o,newPath:i}=e;if($e.equals(o,i))return[];var s=[],c=[];for(var l of $e.ancestors(o)){var u=$e.transform(l,e);s.push(u)}for(var f of $e.ancestors(i)){var d=$e.transform(f,e);c.push(d)}return[...s,...c];case"remove_node":var{path:h}=e;return[...$e.ancestors(h)];case"split_node":var{path:p}=e;return[...$e.levels(p),$e.next(p)];default:return[]}},vt=r(3493),gt=r.n(vt);function mt(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function yt(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function bt(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var r=getComputedStyle(e,null);return yt(r.overflowY,t)||yt(r.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function wt(e,t,r,n,a,o,i,s){return o<e&&i>t||o>e&&i<t?0:o<=e&&s<=r||i>=t&&s>=r?o-e-n:i>t&&s<r||o<e&&s>r?i-t+a:0}function xt(e,t){var r=window,n=t.scrollMode,a=t.block,o=t.inline,i=t.boundary,s=t.skipOverflowHiddenElements,c="function"==typeof i?i:function(e){return e!==i};if(!mt(e))throw new TypeError("Invalid target");for(var l=document.scrollingElement||document.documentElement,u=[],f=e;mt(f)&&c(f);){if((f=f.parentElement)===l){u.push(f);break}null!=f&&f===document.body&&bt(f)&&!bt(document.documentElement)||null!=f&&bt(f,s)&&u.push(f)}for(var d=r.visualViewport?r.visualViewport.width:innerWidth,h=r.visualViewport?r.visualViewport.height:innerHeight,p=window.scrollX||pageXOffset,v=window.scrollY||pageYOffset,g=e.getBoundingClientRect(),m=g.height,y=g.width,b=g.top,w=g.right,x=g.bottom,O=g.left,k="start"===a||"nearest"===a?b:"end"===a?x:b+m/2,E="center"===o?O+y/2:"end"===o?w:O,C=[],P=0;P<u.length;P++){var A=u[P],F=A.getBoundingClientRect(),j=F.height,D=F.width,S=F.top,N=F.right,B=F.bottom,M=F.left;if("if-needed"===n&&b>=0&&O>=0&&x<=h&&w<=d&&b>=S&&x<=B&&O>=M&&w<=N)return C;var R=getComputedStyle(A),_=parseInt(R.borderLeftWidth,10),T=parseInt(R.borderTopWidth,10),z=parseInt(R.borderRightWidth,10),L=parseInt(R.borderBottomWidth,10),W=0,I=0,q="offsetWidth"in A?A.offsetWidth-A.clientWidth-_-z:0,$="offsetHeight"in A?A.offsetHeight-A.clientHeight-T-L:0;if(l===A)W="start"===a?k:"end"===a?k-h:"nearest"===a?wt(v,v+h,h,T,L,v+k,v+k+m,m):k-h/2,I="start"===o?E:"center"===o?E-d/2:"end"===o?E-d:wt(p,p+d,d,_,z,p+E,p+E+y,y),W=Math.max(0,W+v),I=Math.max(0,I+p);else{W="start"===a?k-S-T:"end"===a?k-B+L+$:"nearest"===a?wt(S,B,j,T,L+$,k,k+m,m):k-(S+j/2)+$/2,I="start"===o?E-M-_:"center"===o?E-(M+D/2)+q/2:"end"===o?E-N+z+q:wt(M,N,D,_,z+q,E,E+y,y);var V=A.scrollLeft,K=A.scrollTop;k+=K-(W=Math.max(0,Math.min(K+W,A.scrollHeight-j+$))),E+=V-(I=Math.max(0,Math.min(V+I,A.scrollWidth-D+q)))}C.push({el:A,top:W,left:I})}return C}function Ot(e){return e===Object(e)&&0!==Object.keys(e).length}var kt=function(e,t){var r=!e.ownerDocument.documentElement.contains(e);if(Ot(t)&&"function"===typeof t.behavior)return t.behavior(r?[]:xt(e,t));if(!r){var n=function(e){return!1===e?{block:"end",inline:"nearest"}:Ot(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var r="scrollBehavior"in document.body.style;e.forEach((function(e){var n=e.el,a=e.top,o=e.left;n.scroll&&r?n.scroll({top:a,left:o,behavior:t}):(n.scrollTop=a,n.scrollLeft=o)}))}(xt(e,n),n.behavior)}},Et=r(6907),Ct=r.n(Et),Pt=r(3935),At=r(8156);function Ft(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jt(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Dt=0;class St{constructor(){this.id="".concat(Dt++)}}var Nt=new WeakMap,Bt=new WeakMap,Mt=new WeakMap,Rt=new WeakMap,_t=new WeakMap,Tt=new WeakMap,zt=new WeakMap,Lt=new WeakMap,Wt=new WeakMap,It=new WeakMap,qt=Symbol("placeholder"),$t=e=>Vt(e)&&1===e.nodeType,Vt=e=>e instanceof Node,Kt=e=>Vt(e)&&3===e.nodeType,Ut=(e,t,r)=>{for(var n,{childNodes:a}=e,o=a[t],i=t,s=!1,c=!1;(Vt(n=o)&&8===n.nodeType||$t(o)&&0===o.childNodes.length||$t(o)&&"false"===o.getAttribute("contenteditable"))&&(!s||!c);)i>=a.length?(s=!0,i=t-1,r="backward"):i<0?(c=!0,i=t+1,r="forward"):(o=a[i],i+="forward"===r?1:-1);return o},Ht=e=>{var t="";if(Kt(e)&&e.nodeValue)return e.nodeValue;if($t(e)){for(var r of Array.from(e.childNodes))t+=Ht(r);var n=getComputedStyle(e).getPropertyValue("display");"block"!==n&&"list"!==n&&"BR"!==e.tagName||(t+="\n")}return t},Jt={findKey(e,t){var r=zt.get(t);return r||(r=new St,zt.set(t,r)),r},findPath(e,t){for(var r=[],n=t;;){var a=Bt.get(n);if(null==a){if(_e.isEditor(n))return r;break}var o=Nt.get(n);if(null==o)break;r.unshift(o),n=a}throw new Error("Unable to find the path for Slate node: ".concat(JSON.stringify(t)))},isFocused:e=>!!Wt.get(e),isReadOnly:e=>!!Lt.get(e),blur(e){var t=Jt.toDOMNode(e,e);Wt.set(e,!1),window.document.activeElement===t&&t.blur()},focus(e){var t=Jt.toDOMNode(e,e);Wt.set(e,!0),window.document.activeElement!==t&&t.focus({preventScroll:!0})},deselect(e){var{selection:t}=e,r=window.getSelection();r&&r.rangeCount>0&&r.removeAllRanges(),t&&ut.deselect(e)},hasDOMNode(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{editable:a=!1}=n,o=Jt.toDOMNode(e,e);try{r=$t(t)?t:t.parentElement}catch(i){if(!i.message.includes('Permission denied to access property "nodeType"'))throw i}return!!r&&(r.closest("[data-slate-editor]")===o&&(!a||r.isContentEditable||!!r.getAttribute("data-slate-zero-width")))},insertData(e,t){e.insertData(t)},setFragmentData(e,t){e.setFragmentData(t)},toDOMNode(e,t){var r=_e.isEditor(t)?Mt.get(e):_t.get(Jt.findKey(e,t));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(JSON.stringify(t)));return r},toDOMPoint(e,t){var r,[n]=_e.node(e,t.path),a=Jt.toDOMNode(e,n);_e.void(e,{at:t})&&(t={path:t.path,offset:0});var o=Array.from(a.querySelectorAll("[data-slate-string], [data-slate-zero-width]")),i=0;for(var s of o){var c=s.childNodes[0];if(null!=c&&null!=c.textContent){var{length:l}=c.textContent,u=s.getAttribute("data-slate-length"),f=i+(null==u?l:parseInt(u,10));if(t.offset<=f){r=[c,Math.min(l,Math.max(0,t.offset-i))];break}i=f}}if(!r)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(JSON.stringify(t)));return r},toDOMRange(e,t){var{anchor:r,focus:n}=t,a=Ge.isBackward(t),o=Jt.toDOMPoint(e,r),i=Ge.isCollapsed(t)?o:Jt.toDOMPoint(e,n),s=window.document.createRange(),[c,l]=a?i:o,[u,f]=a?o:i,d=!!($t(c)?c:c.parentElement).getAttribute("data-slate-zero-width"),h=!!($t(u)?u:u.parentElement).getAttribute("data-slate-zero-width");return s.setStart(c,d?1:l),s.setEnd(u,h?1:f),s},toSlateNode(e,t){var r=$t(t)?t:t.parentElement;r&&!r.hasAttribute("data-slate-node")&&(r=r.closest("[data-slate-node]"));var n=r?Rt.get(r):null;if(!n)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(r));return n},findEventRange(e,t){"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:r,clientY:n,target:a}=t;if(null==r||null==n)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var o,i=Jt.toSlateNode(e,t.target),s=Jt.findPath(e,i);if(_e.isVoid(e,i)){var c=a.getBoundingClientRect(),l=e.isInline(i)?r-c.left<c.left+c.width-r:n-c.top<c.top+c.height-n,u=_e.point(e,s,{edge:l?"start":"end"}),f=l?_e.before(e,u):_e.after(e,u);if(f)return _e.range(e,f)}var{document:d}=window;if(d.caretRangeFromPoint)o=d.caretRangeFromPoint(r,n);else{var h=d.caretPositionFromPoint(r,n);h&&((o=d.createRange()).setStart(h.offsetNode,h.offset),o.setEnd(h.offsetNode,h.offset))}if(!o)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));return Jt.toSlateRange(e,o)},toSlatePoint(e,t){var[r,n]=(e=>{var[t,r]=e;if($t(t)&&t.childNodes.length){var n=r===t.childNodes.length,a=n?"backward":"forward";for(t=Ut(t,n?r-1:r,a);$t(t)&&t.childNodes.length;){var o=n?t.childNodes.length-1:0;t=Ut(t,o,a)}r=n&&null!=t.textContent?t.textContent.length:0}return[t,r]})(t),a=r.parentNode,o=null,i=0;if(a){var s=a.closest('[data-slate-void="true"]'),c=a.closest("[data-slate-leaf]"),l=null;if(c){o=c.closest('[data-slate-node="text"]');var u=window.document.createRange();u.setStart(o,0),u.setEnd(r,n);var f=u.cloneContents();[...f.querySelectorAll("[data-slate-zero-width]"),...f.querySelectorAll("[contenteditable=false]")].forEach((e=>{e.parentNode.removeChild(e)})),i=f.textContent.length,l=o}else s&&(o=(c=s.querySelector("[data-slate-leaf]")).closest('[data-slate-node="text"]'),i=(l=c).textContent.length);l&&i===l.textContent.length&&a.hasAttribute("data-slate-zero-width")&&i--}if(!o)throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t));var d=Jt.toSlateNode(e,o);return{path:Jt.findPath(e,d),offset:i}},toSlateRange(e,t){var r,n,a,o,i;if((t instanceof Selection?t.anchorNode:t.startContainer)&&(t instanceof Selection?(r=t.anchorNode,n=t.anchorOffset,a=t.focusNode,o=t.focusOffset,i=t.isCollapsed):(r=t.startContainer,n=t.startOffset,a=t.endContainer,o=t.endOffset,i=t.collapsed)),null==r||null==a||null==n||null==o)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));var s=Jt.toSlatePoint(e,[r,n]);return{anchor:s,focus:i?s:Jt.toSlatePoint(e,[a,o])}}},Gt=(0,n.createContext)(!1),Yt=(0,n.createContext)(null),Xt=()=>{var e=(0,n.useContext)(Yt);if(!e)throw new Error("The `useEditor` hook must be used inside the <Slate> component's context.");return e},Zt=(0,n.createContext)(null),Qt=()=>{var e=(0,n.useContext)(Zt);if(!e)throw new Error("The `useSlate` hook must be used inside the <SlateProvider> component's context.");var[t]=e;return t},er=e=>{var{editor:t,children:r,onChange:a,value:o}=e,i=jt(e,["editor","children","onChange","value"]),[s,c]=(0,n.useState)(0),l=(0,n.useMemo)((()=>(t.children=o,Object.assign(t,i),[t])),[s,o,...Object.values(i)]),u=(0,n.useCallback)((()=>{a(t.children),c(s+1)}),[s,a]);return It.set(t,u),(0,n.useEffect)((()=>()=>{It.set(t,(()=>{}))}),[]),n.createElement(Zt.Provider,{value:l},n.createElement(Yt.Provider,{value:t},n.createElement(Gt.Provider,{value:Jt.isFocused(t)},r)))},tr=(0,n.createContext)(!1),rr=(0,n.createContext)(!1),nr=e=>{var t=e,{apply:r,onChange:n}=t;return t.apply=e=>{var n=[];switch(e.type){case"insert_text":case"remove_text":case"set_node":for(var[a,o]of _e.levels(t,{at:e.path})){var i=Jt.findKey(t,a);n.push([o,i])}break;case"insert_node":case"remove_node":case"merge_node":case"split_node":for(var[s,c]of _e.levels(t,{at:$e.parent(e.path)})){var l=Jt.findKey(t,s);n.push([c,l])}}for(var[u,f]of(r(e),n)){var[d]=_e.node(t,u);zt.set(d,f)}},t.setFragmentData=e=>{var{selection:r}=t;if(r){var[n,a]=Ge.edges(r),o=_e.void(t,{at:n.path}),i=_e.void(t,{at:a.path});if(!Ge.isCollapsed(r)||o){var s=Jt.toDOMRange(t,r),c=s.cloneContents(),l=c.childNodes[0];if(c.childNodes.forEach((e=>{e.textContent&&""!==e.textContent.trim()&&(l=e)})),i){var[u]=i,f=s.cloneRange(),d=Jt.toDOMNode(t,u);f.setEndAfter(d),c=f.cloneContents()}if(o&&(l=c.querySelector("[data-slate-spacer]")),Array.from(c.querySelectorAll("[data-slate-zero-width]")).forEach((e=>{var t="n"===e.getAttribute("data-slate-zero-width");e.textContent=t?"\n":""})),Kt(l)){var h=document.createElement("span");h.style.whiteSpace="pre",h.appendChild(l),c.appendChild(h),l=h}var p=t.getFragment(),v=JSON.stringify(p),g=window.btoa(encodeURIComponent(v));l.setAttribute("data-slate-fragment",g),e.setData("application/x-slate-fragment",g);var m=document.createElement("div");m.appendChild(c),m.setAttribute("hidden","true"),document.body.appendChild(m),e.setData("text/html",m.innerHTML),e.setData("text/plain",Ht(m)),document.body.removeChild(m)}}},t.insertData=e=>{var r=e.getData("application/x-slate-fragment");if(r){var n=decodeURIComponent(window.atob(r)),a=JSON.parse(n);ut.insertFragment(t,a)}else{var o=e.getData("text/plain");if(o){var i=o.split(/\r\n|\r|\n/),s=!1;for(var c of i)s&&ut.splitNodes(t,{always:!0}),ut.insertText(t,c),s=!0}}},t.onChange=()=>{Pt.unstable_batchedUpdates((()=>{var e=It.get(t);e&&e(),n()}))},t},ar=e=>{var{isLast:t,leaf:r,parent:a,text:o}=e,i=Xt(),s=Jt.findPath(i,o),c=$e.parent(s);return i.isVoid(a)?n.createElement(ir,{length:Le.string(a).length}):""!==r.text||a.children[a.children.length-1]!==o||i.isInline(a)||""!==_e.string(i,c)?""===r.text?n.createElement(ir,null):t&&"\n"===r.text.slice(-1)?n.createElement(or,{isTrailing:!0,text:r.text}):n.createElement(or,{text:r.text}):n.createElement(ir,{isLineBreak:!0})},or=e=>{var{text:t,isTrailing:r=!1}=e;return n.createElement("span",{"data-slate-string":!0},t,r?"\n":null)},ir=e=>{var{length:t=0,isLineBreak:r=!1}=e;return n.createElement("span",{"data-slate-zero-width":r?"n":"z","data-slate-length":t},"\ufeff",r?n.createElement("br",null):null)},sr=n.memo((e=>{var{leaf:t,isLast:r,text:a,parent:o,renderLeaf:i=(e=>n.createElement(cr,Object.assign({},e)))}=e,s=n.createElement(ar,{isLast:r,leaf:t,parent:o,text:a});t[qt]&&(s=n.createElement(n.Fragment,null,n.createElement("span",{contentEditable:!1,style:{pointerEvents:"none",display:"inline-block",verticalAlign:"text-top",width:"0",maxWidth:"100%",whiteSpace:"nowrap",opacity:"0.333"}},t.placeholder),s));return i({attributes:{"data-slate-leaf":!0},children:s,leaf:t,text:a})}),((e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.text===e.text&&Qe.matches(t.leaf,e.leaf))),cr=e=>{var{attributes:t,children:r}=e;return n.createElement("span",Object.assign({},t),r)},lr="undefined"!==typeof window?n.useLayoutEffect:n.useEffect,ur=n.memo((e=>{for(var{decorations:t,isLast:r,parent:a,renderLeaf:o,text:i}=e,s=Xt(),c=(0,n.useRef)(null),l=Qe.decorations(i,t),u=Jt.findKey(s,i),f=[],d=0;d<l.length;d++){var h=l[d];f.push(n.createElement(sr,{isLast:r&&d===l.length-1,key:"".concat(u.id,"-").concat(d),leaf:h,text:i,parent:a,renderLeaf:o}))}return lr((()=>{c.current?(_t.set(u,c.current),Tt.set(i,c.current),Rt.set(c.current,i)):(_t.delete(u),Tt.delete(i))})),n.createElement("span",{"data-slate-node":"text",ref:c},f)}),((e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.text===e.text)),fr=n.memo((e=>{var{decorate:t,decorations:r,element:a,renderElement:o=(e=>n.createElement(dr,Object.assign({},e))),renderLeaf:i,selection:s}=e,c=(0,n.useRef)(null),l=Xt(),u=(0,n.useContext)(tr),f=l.isInline(a),d=Jt.findKey(l,a),h=n.createElement(pr,{decorate:t,decorations:r,node:a,renderElement:o,renderLeaf:i,selection:s}),p={"data-slate-node":"element",ref:c};if(f&&(p["data-slate-inline"]=!0),!f&&_e.hasInlines(l,a)){var v=Le.string(a),g=Ct()(v);"rtl"===g&&(p.dir=g)}if(_e.isVoid(l,a)){p["data-slate-void"]=!0,!u&&f&&(p.contentEditable=!1);var m=f?"span":"div",[[y]]=Le.texts(a);h=u?null:n.createElement(m,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},n.createElement(ur,{decorations:[],isLast:!1,parent:a,text:y})),Nt.set(y,0),Bt.set(y,a)}return lr((()=>{c.current?(_t.set(d,c.current),Tt.set(a,c.current),Rt.set(c.current,a)):(_t.delete(d),Tt.delete(a))})),n.createElement(rr.Provider,{value:!!s},o({attributes:p,children:h,element:a}))}),((e,t)=>e.decorate===t.decorate&&e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&hr(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&Ge.equals(e.selection,t.selection)))),dr=e=>{var{attributes:t,children:r,element:a}=e,o=Xt().isInline(a)?"span":"div";return n.createElement(o,Object.assign({},t,{style:{position:"relative"}}),r)},hr=(e,t)=>{if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var n=e[r],a=t[r];if(!Ge.equals(n,a))return!1}return!0},pr=e=>{for(var{decorate:t,decorations:r,node:a,renderElement:o,renderLeaf:i,selection:s}=e,c=Xt(),l=Jt.findPath(c,a),u=[],f=Te.isElement(a)&&!c.isInline(a)&&_e.hasInlines(c,a),d=0;d<a.children.length;d++){var h=l.concat(d),p=a.children[d],v=Jt.findKey(c,p),g=_e.range(c,h),m=s&&Ge.intersection(g,s),y=t([p,h]);for(var b of r){var w=Ge.intersection(b,g);w&&y.push(w)}Te.isElement(p)?u.push(n.createElement(fr,{decorate:t,decorations:y,element:p,key:v.id,renderElement:o,renderLeaf:i,selection:m})):u.push(n.createElement(ur,{decorations:y,key:v.id,isLast:f&&d===a.children.length-1,parent:a,renderLeaf:i,text:p})),Nt.set(p,d),Bt.set(p,a)}return n.createElement(n.Fragment,null,u)},vr=("undefined"!==typeof navigator&&"undefined"!==typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,"undefined"!==typeof navigator&&/Mac OS X/.test(navigator.userAgent)),gr="undefined"!==typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),mr="undefined"!==typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),yr="undefined"!==typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])/i.test(navigator.userAgent),br={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"},wr={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},xr={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},Or=e=>{var t=br[e],r=wr[e],n=xr[e],a=t&&(0,At.TB)(t),o=r&&(0,At.TB)(r),i=n&&(0,At.TB)(n);return e=>!(!a||!a(e))||(!!(vr&&o&&o(e))||!(vr||!i||!i(e)))},kr={isBold:Or("bold"),isCompose:Or("compose"),isMoveBackward:Or("moveBackward"),isMoveForward:Or("moveForward"),isDeleteBackward:Or("deleteBackward"),isDeleteForward:Or("deleteForward"),isDeleteLineBackward:Or("deleteLineBackward"),isDeleteLineForward:Or("deleteLineForward"),isDeleteWordBackward:Or("deleteWordBackward"),isDeleteWordForward:Or("deleteWordForward"),isExtendBackward:Or("extendBackward"),isExtendForward:Or("extendForward"),isExtendLineBackward:Or("extendLineBackward"),isExtendLineForward:Or("extendLineForward"),isItalic:Or("italic"),isMoveLineBackward:Or("moveLineBackward"),isMoveLineForward:Or("moveLineForward"),isMoveWordBackward:Or("moveWordBackward"),isMoveWordForward:Or("moveWordForward"),isRedo:Or("redo"),isSplitBlock:Or("splitBlock"),isTransposeCharacter:Or("transposeCharacter"),isUndo:Or("undo")};function Er(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(r),!0).forEach((function(t){Ft(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Er(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Pr=!(gr||yr),Ar=e=>{var{autoFocus:t,decorate:r=Fr,onDOMBeforeInput:a,placeholder:o,readOnly:i=!1,renderElement:s,renderLeaf:c,style:l={},as:u="div"}=e,f=jt(e,["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","style","as"]),d=Qt(),h=(0,n.useRef)(null);Lt.set(d,i);var p=(0,n.useMemo)((()=>({isComposing:!1,isUpdatingSelection:!1,latestElement:null})),[]);lr((()=>{h.current?(Mt.set(d,h.current),Tt.set(d,h.current),Rt.set(h.current,d)):Tt.delete(d)})),lr((()=>{var{selection:e}=d,t=window.getSelection();if(!p.isComposing&&t&&Jt.isFocused(d)){var r="None"!==t.type;if((e||r)&&!(r&&e&&Ge.equals(Jt.toSlateRange(d,t),e))){var n=Jt.toDOMNode(d,d);p.isUpdatingSelection=!0,t.removeAllRanges();var a=e&&Jt.toDOMRange(d,e);if(a){t.addRange(a);var o=a.startContainer.parentElement;kt(o,{scrollMode:"if-needed"})}setTimeout((()=>{a&&gr&&n.focus(),p.isUpdatingSelection=!1}))}}})),(0,n.useEffect)((()=>{h.current&&t&&h.current.focus()}),[t]);var v=(0,n.useCallback)((e=>{if(!i&&Dr(d,e.target)&&!Nr(e,a)){var{selection:t}=d,{inputType:r}=e,n=e.dataTransfer||e.data||void 0;if("insertCompositionText"===r||"deleteCompositionText"===r)return;if(e.preventDefault(),!r.startsWith("delete")||r.startsWith("deleteBy")){var[o]=e.getTargetRanges();if(o){var s=Jt.toSlateRange(d,o);t&&Ge.equals(t,s)||ut.select(d,s)}}if(t&&Ge.isExpanded(t)&&r.startsWith("delete"))return void _e.deleteFragment(d);switch(r){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":_e.deleteFragment(d);break;case"deleteContent":case"deleteContentForward":_e.deleteForward(d);break;case"deleteContentBackward":_e.deleteBackward(d);break;case"deleteEntireSoftLine":_e.deleteBackward(d,{unit:"line"}),_e.deleteForward(d,{unit:"line"});break;case"deleteHardLineBackward":_e.deleteBackward(d,{unit:"block"});break;case"deleteSoftLineBackward":_e.deleteBackward(d,{unit:"line"});break;case"deleteHardLineForward":_e.deleteForward(d,{unit:"block"});break;case"deleteSoftLineForward":_e.deleteForward(d,{unit:"line"});break;case"deleteWordBackward":_e.deleteBackward(d,{unit:"word"});break;case"deleteWordForward":_e.deleteForward(d,{unit:"word"});break;case"insertLineBreak":case"insertParagraph":_e.insertBreak(d);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":n instanceof DataTransfer?Jt.insertData(d,n):"string"===typeof n&&_e.insertText(d,n)}}}),[i]);lr((()=>(h.current&&h.current.addEventListener("beforeinput",v),()=>{h.current&&h.current.removeEventListener("beforeinput",v)})),[v]);var g=(0,n.useCallback)(gt()((()=>{if(!i&&!p.isComposing&&!p.isUpdatingSelection){var{activeElement:e}=window.document,t=Jt.toDOMNode(d,d),r=window.getSelection();if(e===t?(p.latestElement=e,Wt.set(d,!0)):Wt.delete(d),r&&Dr(d,r.anchorNode)&&Dr(d,r.focusNode)){var n=Jt.toSlateRange(d,r);ut.select(d,n)}else ut.deselect(d)}}),100),[i]);lr((()=>(window.document.addEventListener("selectionchange",g),()=>{window.document.removeEventListener("selectionchange",g)})),[g]);var m=r([d,[]]);if(o&&1===d.children.length&&1===Array.from(Le.texts(d)).length&&""===Le.string(d)){var y=_e.start(d,[]);m.push({[qt]:!0,placeholder:o,anchor:y,focus:y})}return n.createElement(tr.Provider,{value:i},n.createElement(u,Object.assign({"data-gramm":!1,role:i?void 0:"textbox"},f,{spellCheck:Pr?f.spellCheck:void 0,autoCorrect:Pr?f.autoCorrect:void 0,autoCapitalize:Pr?f.autoCapitalize:void 0,"data-slate-editor":!0,"data-slate-node":"value",contentEditable:!i||void 0,suppressContentEditableWarning:!0,ref:h,style:Cr({outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},l),onBeforeInput:(0,n.useCallback)((e=>{if(!Pr&&!i&&!Sr(e,f.onBeforeInput)&&Dr(d,e.target)){e.preventDefault();var t=e.data;_e.insertText(d,t)}}),[i]),onBlur:(0,n.useCallback)((e=>{if(!i&&!p.isUpdatingSelection&&Dr(d,e.target)&&!Sr(e,f.onBlur)&&p.latestElement!==window.document.activeElement){var{relatedTarget:t}=e;if(t!==Jt.toDOMNode(d,d)&&(!$t(t)||!t.hasAttribute("data-slate-spacer"))){if(null!=t&&Vt(t)&&Jt.hasDOMNode(d,t)){var r=Jt.toSlateNode(d,t);if(Te.isElement(r)&&!d.isVoid(r))return}Wt.delete(d)}}}),[i,f.onBlur]),onClick:(0,n.useCallback)((e=>{if(!i&&jr(d,e.target)&&!Sr(e,f.onClick)&&Vt(e.target)){var t=Jt.toSlateNode(d,e.target),r=Jt.findPath(d,t),n=_e.start(d,r);if(_e.void(d,{at:n})){var a=_e.range(d,n);ut.select(d,a)}}}),[i,f.onClick]),onCompositionEnd:(0,n.useCallback)((e=>{Dr(d,e.target)&&!Sr(e,f.onCompositionEnd)&&(p.isComposing=!1,mr||gr||!e.data||_e.insertText(d,e.data))}),[f.onCompositionEnd]),onCompositionStart:(0,n.useCallback)((e=>{Dr(d,e.target)&&!Sr(e,f.onCompositionStart)&&(p.isComposing=!0)}),[f.onCompositionStart]),onCopy:(0,n.useCallback)((e=>{Dr(d,e.target)&&!Sr(e,f.onCopy)&&(e.preventDefault(),Jt.setFragmentData(d,e.clipboardData))}),[f.onCopy]),onCut:(0,n.useCallback)((e=>{if(!i&&Dr(d,e.target)&&!Sr(e,f.onCut)){e.preventDefault(),Jt.setFragmentData(d,e.clipboardData);var{selection:t}=d;t&&Ge.isExpanded(t)&&_e.deleteFragment(d)}}),[i,f.onCut]),onDragOver:(0,n.useCallback)((e=>{if(jr(d,e.target)&&!Sr(e,f.onDragOver)){var t=Jt.toSlateNode(d,e.target);_e.isVoid(d,t)&&e.preventDefault()}}),[f.onDragOver]),onDragStart:(0,n.useCallback)((e=>{if(jr(d,e.target)&&!Sr(e,f.onDragStart)){var t=Jt.toSlateNode(d,e.target),r=Jt.findPath(d,t);if(_e.void(d,{at:r})){var n=_e.range(d,r);ut.select(d,n)}Jt.setFragmentData(d,e.dataTransfer)}}),[f.onDragStart]),onDrop:(0,n.useCallback)((e=>{if(jr(d,e.target)&&!i&&!Sr(e,f.onDrop)&&(!Pr||!mr&&e.dataTransfer.files.length>0)){e.preventDefault();var t=Jt.findEventRange(d,e),r=e.dataTransfer;ut.select(d,t),Jt.insertData(d,r)}}),[i,f.onDrop]),onFocus:(0,n.useCallback)((e=>{if(!i&&!p.isUpdatingSelection&&Dr(d,e.target)&&!Sr(e,f.onFocus)){var t=Jt.toDOMNode(d,d);if(p.latestElement=window.document.activeElement,gr&&e.target!==t)return void t.focus();Wt.set(d,!0)}}),[i,f.onFocus]),onKeyDown:(0,n.useCallback)((e=>{if(!i&&Dr(d,e.target)&&!Sr(e,f.onKeyDown)){var{nativeEvent:t}=e,{selection:r}=d;if(kr.isRedo(t))return e.preventDefault(),void(d.redo&&d.redo());if(kr.isUndo(t))return e.preventDefault(),void(d.undo&&d.undo());if(kr.isMoveLineBackward(t))return e.preventDefault(),void ut.move(d,{unit:"line",reverse:!0});if(kr.isMoveLineForward(t))return e.preventDefault(),void ut.move(d,{unit:"line"});if(kr.isExtendLineBackward(t))return e.preventDefault(),void ut.move(d,{unit:"line",edge:"focus",reverse:!0});if(kr.isExtendLineForward(t))return e.preventDefault(),void ut.move(d,{unit:"line",edge:"focus"});if(kr.isMoveBackward(t))return e.preventDefault(),void(r&&Ge.isCollapsed(r)?ut.move(d,{reverse:!0}):ut.collapse(d,{edge:"start"}));if(kr.isMoveForward(t))return e.preventDefault(),void(r&&Ge.isCollapsed(r)?ut.move(d):ut.collapse(d,{edge:"end"}));if(kr.isMoveWordBackward(t))return e.preventDefault(),void ut.move(d,{unit:"word",reverse:!0});if(kr.isMoveWordForward(t))return e.preventDefault(),void ut.move(d,{unit:"word"});if(!Pr){if(kr.isBold(t)||kr.isItalic(t)||kr.isTransposeCharacter(t))return void e.preventDefault();if(kr.isSplitBlock(t))return e.preventDefault(),void _e.insertBreak(d);if(kr.isDeleteBackward(t))return e.preventDefault(),void(r&&Ge.isExpanded(r)?_e.deleteFragment(d):_e.deleteBackward(d));if(kr.isDeleteForward(t))return e.preventDefault(),void(r&&Ge.isExpanded(r)?_e.deleteFragment(d):_e.deleteForward(d));if(kr.isDeleteLineBackward(t))return e.preventDefault(),void(r&&Ge.isExpanded(r)?_e.deleteFragment(d):_e.deleteBackward(d,{unit:"line"}));if(kr.isDeleteLineForward(t))return e.preventDefault(),void(r&&Ge.isExpanded(r)?_e.deleteFragment(d):_e.deleteForward(d,{unit:"line"}));if(kr.isDeleteWordBackward(t))return e.preventDefault(),void(r&&Ge.isExpanded(r)?_e.deleteFragment(d):_e.deleteBackward(d,{unit:"word"}));if(kr.isDeleteWordForward(t))return e.preventDefault(),void(r&&Ge.isExpanded(r)?_e.deleteFragment(d):_e.deleteForward(d,{unit:"word"}))}}}),[i,f.onKeyDown]),onPaste:(0,n.useCallback)((e=>{Pr&&!(e=>e.clipboardData&&""!==e.clipboardData.getData("text/plain")&&1===e.clipboardData.types.length)(e.nativeEvent)||i||!Dr(d,e.target)||Sr(e,f.onPaste)||(e.preventDefault(),Jt.insertData(d,e.clipboardData))}),[i,f.onPaste])}),n.createElement(pr,{decorate:r,decorations:m,node:d,renderElement:s,renderLeaf:c,selection:d.selection})))},Fr=()=>[],jr=(e,t)=>Vt(t)&&Jt.hasDOMNode(e,t),Dr=(e,t)=>Vt(t)&&Jt.hasDOMNode(e,t,{editable:!0}),Sr=(e,t)=>!!t&&(t(e),e.isDefaultPrevented()||e.isPropagationStopped()),Nr=(e,t)=>!!t&&(t(e),e.defaultPrevented),Br={isHistory:e=>c(e)&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(0===e.redos.length||qe.isOperationList(e.redos[0]))&&(0===e.undos.length||qe.isOperationList(e.undos[0]))},Mr=(new WeakMap,new WeakMap),Rr=new WeakMap,_r={isHistoryEditor:e=>_e.isEditor(e)&&Br.isHistory(e.history),isMerging:e=>Rr.get(e),isSaving:e=>Mr.get(e),redo(e){e.redo()},undo(e){e.undo()},withoutMerging(e,t){var r=_r.isMerging(e);Rr.set(e,!1),t(),Rr.set(e,r)},withoutSaving(e,t){var r=_r.isSaving(e);Mr.set(e,!1),t(),Mr.set(e,r)}},Tr=(e,t)=>"set_selection"===e.type||(!(!t||"insert_text"!==e.type||"insert_text"!==t.type||e.offset!==t.offset+t.text.length||!$e.equals(e.path,t.path))||!(!t||"remove_text"!==e.type||"remove_text"!==t.type||e.offset+e.text.length!==t.offset||!$e.equals(e.path,t.path))),zr=(e,t)=>"set_selection"!==e.type||null!=e.newProperties,Lr=(e,t)=>!(!t||"set_selection"!==e.type||"set_selection"!==t.type),Wr=e=>"set_selection"!==e.type;var Ir=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)===0){var t,r=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(r,t),this.tags.push(r)}var n=this.tags[this.tags.length-1];if(this.isSpeedy){var a=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(n);try{var o=105===e.charCodeAt(1)&&64===e.charCodeAt(0);a.insertRule(e,o?0:a.cssRules.length)}catch(yt){0}}else n.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}();var qr=function(e){function t(e,n,c,l,d){for(var h,p,v,g,w,O=0,k=0,E=0,C=0,P=0,N=0,M=v=h=0,_=0,T=0,z=0,L=0,W=c.length,I=W-1,q="",$="",V="",K="";_<W;){if(p=c.charCodeAt(_),_===I&&0!==k+C+E+O&&(0!==k&&(p=47===k?10:47),C=E=O=0,W++,I++),0===k+C+E+O){if(_===I&&(0<T&&(q=q.replace(f,"")),0<q.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:q+=c.charAt(_)}p=59}switch(p){case 123:for(h=(q=q.trim()).charCodeAt(0),v=1,L=++_;_<W;){switch(p=c.charCodeAt(_)){case 123:v++;break;case 125:v--;break;case 47:switch(p=c.charCodeAt(_+1)){case 42:case 47:e:{for(M=_+1;M<I;++M)switch(c.charCodeAt(M)){case 47:if(42===p&&42===c.charCodeAt(M-1)&&_+2!==M){_=M+1;break e}break;case 10:if(47===p){_=M+1;break e}}_=M}}break;case 91:p++;case 40:p++;case 34:case 39:for(;_++<I&&c.charCodeAt(_)!==p;);}if(0===v)break;_++}switch(v=c.substring(L,_),0===h&&(h=(q=q.replace(u,"").trim()).charCodeAt(0)),h){case 64:switch(0<T&&(q=q.replace(f,"")),p=q.charCodeAt(1)){case 100:case 109:case 115:case 45:T=n;break;default:T=S}if(L=(v=t(n,T,v,p,d+1)).length,0<B&&(w=s(3,v,T=r(S,q,z),n,F,A,L,p,d,l),q=T.join(""),void 0!==w&&0===(L=(v=w.trim()).length)&&(p=0,v="")),0<L)switch(p){case 115:q=q.replace(x,i);case 100:case 109:case 45:v=q+"{"+v+"}";break;case 107:v=(q=q.replace(m,"$1 $2"))+"{"+v+"}",v=1===D||2===D&&o("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=q+v,112===l&&($+=v,v="")}else v="";break;default:v=t(n,r(n,q,z),v,l,d+1)}V+=v,v=z=T=M=h=0,q="",p=c.charCodeAt(++_);break;case 125:case 59:if(1<(L=(q=(0<T?q.replace(f,""):q).trim()).length))switch(0===M&&(h=q.charCodeAt(0),45===h||96<h&&123>h)&&(L=(q=q.replace(" ",":")).length),0<B&&void 0!==(w=s(1,q,n,e,F,A,$.length,l,d,l))&&0===(L=(q=w.trim()).length)&&(q="\0\0"),h=q.charCodeAt(0),p=q.charCodeAt(1),h){case 0:break;case 64:if(105===p||99===p){K+=q+c.charAt(_);break}default:58!==q.charCodeAt(L-1)&&($+=a(q,h,p,q.charCodeAt(2)))}z=T=M=h=0,q="",p=c.charCodeAt(++_)}}switch(p){case 13:case 10:47===k?k=0:0===1+h&&107!==l&&0<q.length&&(T=1,q+="\0"),0<B*R&&s(0,q,n,e,F,A,$.length,l,d,l),A=1,F++;break;case 59:case 125:if(0===k+C+E+O){A++;break}default:switch(A++,g=c.charAt(_),p){case 9:case 32:if(0===C+O+k)switch(P){case 44:case 58:case 9:case 32:g="";break;default:32!==p&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===C+k+O&&(T=z=1,g="\f"+g);break;case 108:if(0===C+k+O+j&&0<M)switch(_-M){case 2:112===P&&58===c.charCodeAt(_-3)&&(j=P);case 8:111===N&&(j=N)}break;case 58:0===C+k+O&&(M=_);break;case 44:0===k+E+C+O&&(T=1,g+="\r");break;case 34:case 39:0===k&&(C=C===p?0:0===C?p:C);break;case 91:0===C+k+E&&O++;break;case 93:0===C+k+E&&O--;break;case 41:0===C+k+O&&E--;break;case 40:if(0===C+k+O){if(0===h)switch(2*P+3*N){case 533:break;default:h=1}E++}break;case 64:0===k+E+C+O+M+v&&(v=1);break;case 42:case 47:if(!(0<C+O+E))switch(k){case 0:switch(2*p+3*c.charCodeAt(_+1)){case 235:k=47;break;case 220:L=_,k=42}break;case 42:47===p&&42===P&&L+2!==_&&(33===c.charCodeAt(L+2)&&($+=c.substring(L,_+1)),g="",k=0)}}0===k&&(q+=g)}N=P,P=p,_++}if(0<(L=$.length)){if(T=n,0<B&&(void 0!==(w=s(2,$,T,e,F,A,L,l,d,l))&&0===($=w).length))return K+$+V;if($=T.join(",")+"{"+$+"}",0!==D*j){switch(2!==D||o($,2)||(j=0),j){case 111:$=$.replace(b,":-moz-$1")+$;break;case 112:$=$.replace(y,"::-webkit-input-$1")+$.replace(y,"::-moz-$1")+$.replace(y,":-ms-input-$1")+$}j=0}}return K+$+V}function r(e,t,r){var a=t.trim().split(v);t=a;var o=a.length,i=e.length;switch(i){case 0:case 1:var s=0;for(e=0===i?"":e[0]+" ";s<o;++s)t[s]=n(e,t[s],r).trim();break;default:var c=s=0;for(t=[];s<o;++s)for(var l=0;l<i;++l)t[c++]=n(e[l]+" ",a[s],r).trim()}return t}function n(e,t,r){var n=t.charCodeAt(0);switch(33>n&&(n=(t=t.trim()).charCodeAt(0)),n){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*r&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function a(e,t,r,n){var i=e+";",s=2*t+3*r+4*n;if(944===s){e=i.indexOf(":",9)+1;var c=i.substring(e,i.length-1).trim();return c=i.substring(0,e).trim()+c+";",1===D||2===D&&o(c,1)?"-webkit-"+c+c:c}if(0===D||2===D&&!o(i,1))return i;switch(s){case 1015:return 97===i.charCodeAt(10)?"-webkit-"+i+i:i;case 951:return 116===i.charCodeAt(3)?"-webkit-"+i+i:i;case 963:return 110===i.charCodeAt(5)?"-webkit-"+i+i:i;case 1009:if(100!==i.charCodeAt(4))break;case 969:case 942:return"-webkit-"+i+i;case 978:return"-webkit-"+i+"-moz-"+i+i;case 1019:case 983:return"-webkit-"+i+"-moz-"+i+"-ms-"+i+i;case 883:if(45===i.charCodeAt(8))return"-webkit-"+i+i;if(0<i.indexOf("image-set(",11))return i.replace(P,"$1-webkit-$2")+i;break;case 932:if(45===i.charCodeAt(4))switch(i.charCodeAt(5)){case 103:return"-webkit-box-"+i.replace("-grow","")+"-webkit-"+i+"-ms-"+i.replace("grow","positive")+i;case 115:return"-webkit-"+i+"-ms-"+i.replace("shrink","negative")+i;case 98:return"-webkit-"+i+"-ms-"+i.replace("basis","preferred-size")+i}return"-webkit-"+i+"-ms-"+i+i;case 964:return"-webkit-"+i+"-ms-flex-"+i+i;case 1023:if(99!==i.charCodeAt(8))break;return"-webkit-box-pack"+(c=i.substring(i.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+i+"-ms-flex-pack"+c+i;case 1005:return h.test(i)?i.replace(d,":-webkit-")+i.replace(d,":-moz-")+i:i;case 1e3:switch(t=(c=i.substring(13).trim()).indexOf("-")+1,c.charCodeAt(0)+c.charCodeAt(t)){case 226:c=i.replace(w,"tb");break;case 232:c=i.replace(w,"tb-rl");break;case 220:c=i.replace(w,"lr");break;default:return i}return"-webkit-"+i+"-ms-"+c+i;case 1017:if(-1===i.indexOf("sticky",9))break;case 975:switch(t=(i=e).length-10,s=(c=(33===i.charCodeAt(t)?i.substring(0,t):i).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|c.charCodeAt(7))){case 203:if(111>c.charCodeAt(8))break;case 115:i=i.replace(c,"-webkit-"+c)+";"+i;break;case 207:case 102:i=i.replace(c,"-webkit-"+(102<s?"inline-":"")+"box")+";"+i.replace(c,"-webkit-"+c)+";"+i.replace(c,"-ms-"+c+"box")+";"+i}return i+";";case 938:if(45===i.charCodeAt(5))switch(i.charCodeAt(6)){case 105:return c=i.replace("-items",""),"-webkit-"+i+"-webkit-box-"+c+"-ms-flex-"+c+i;case 115:return"-webkit-"+i+"-ms-flex-item-"+i.replace(k,"")+i;default:return"-webkit-"+i+"-ms-flex-line-pack"+i.replace("align-content","").replace(k,"")+i}break;case 973:case 989:if(45!==i.charCodeAt(3)||122===i.charCodeAt(4))break;case 931:case 953:if(!0===C.test(e))return 115===(c=e.substring(e.indexOf(":")+1)).charCodeAt(0)?a(e.replace("stretch","fill-available"),t,r,n).replace(":fill-available",":stretch"):i.replace(c,"-webkit-"+c)+i.replace(c,"-moz-"+c.replace("fill-",""))+i;break;case 962:if(i="-webkit-"+i+(102===i.charCodeAt(5)?"-ms-"+i:"")+i,211===r+n&&105===i.charCodeAt(13)&&0<i.indexOf("transform",10))return i.substring(0,i.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+i}return i}function o(e,t){var r=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?r:10);return r=e.substring(r+1,e.length-1),M(2!==t?n:n.replace(E,"$1"),r,t)}function i(e,t){var r=a(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return r!==t+";"?r.replace(O," or ($1)").substring(4):"("+t+")"}function s(e,t,r,n,a,o,i,s,c,u){for(var f,d=0,h=t;d<B;++d)switch(f=N[d].call(l,e,h,r,n,a,o,i,s,c,u)){case void 0:case!1:case!0:case null:break;default:h=f}if(h!==t)return h}function c(e){return void 0!==(e=e.prefix)&&(M=null,e?"function"!==typeof e?D=1:(D=2,M=e):D=0),c}function l(e,r){var n=e;if(33>n.charCodeAt(0)&&(n=n.trim()),n=[n],0<B){var a=s(-1,r,n,n,F,A,0,0,0,0);void 0!==a&&"string"===typeof a&&(r=a)}var o=t(S,n,r,0,0);return 0<B&&(void 0!==(a=s(-2,o,n,n,F,A,o.length,0,0,0))&&(o=a)),"",j=0,A=F=1,o}var u=/^\0+/g,f=/[\0\r\f]/g,d=/: */g,h=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,b=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,x=/\(\s*(.*)\s*\)/g,O=/([\s\S]*?);/g,k=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,C=/stretch|:\s*\w+\-(?:conte|avail)/,P=/([^-])(image-set\()/,A=1,F=1,j=0,D=1,S=[],N=[],B=0,M=null,R=0;return l.use=function e(t){switch(t){case void 0:case null:B=N.length=0;break;default:if("function"===typeof t)N[B++]=t;else if("object"===typeof t)for(var r=0,n=t.length;r<n;++r)e(t[r]);else R=0|!!t}return e},l.set=c,void 0!==e&&c(e),l},$r="/*|*/";function Vr(e){e&&Kr.current.insert(e+"}")}var Kr={current:null},Ur=function(e,t,r,n,a,o,i,s,c,l){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return Kr.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===s)return t+$r;break;case 3:switch(s){case 102:case 112:return Kr.current.insert(r[0]+t),"";default:return t+(0===l?$r:"")}case-2:t.split("/*|*/}").forEach(Vr)}},Hr=function(e){void 0===e&&(e={});var t,r=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var n=new qr(t);var a,o={};a=e.container||document.head;var i,s=document.querySelectorAll("style[data-emotion-"+r+"]");Array.prototype.forEach.call(s,(function(e){e.getAttribute("data-emotion-"+r).split(" ").forEach((function(e){o[e]=!0})),e.parentNode!==a&&a.appendChild(e)})),n.use(e.stylisPlugins)(Ur),i=function(e,t,r,a){var o=t.name;Kr.current=r,n(e,t.styles),a&&(c.inserted[o]=!0)};var c={key:r,sheet:new Ir({key:r,container:a,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:o,registered:{},insert:i};return c};var Jr=function(e){for(var t,r=0,n=0,a=e.length;a>=4;++n,a-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(a){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)},Gr={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Yr=/[A-Z]|^ms/g,Xr=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Zr=function(e){return 45===e.charCodeAt(1)},Qr=function(e){return null!=e&&"boolean"!==typeof e},en=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}((function(e){return Zr(e)?e:e.replace(Yr,"-$&").toLowerCase()})),tn=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Xr,(function(e,t,r){return nn={name:t,styles:r,next:nn},t}))}return 1===Gr[e]||Zr(e)||"number"!==typeof t||0===t?t:t+"px"};function rn(e,t,r,n){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return nn={name:r.name,styles:r.styles,next:nn},r.name;if(void 0!==r.styles){var a=r.next;if(void 0!==a)for(;void 0!==a;)nn={name:a.name,styles:a.styles,next:nn},a=a.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=rn(e,t,r[a],!1);else for(var o in r){var i=r[o];if("object"!==typeof i)null!=t&&void 0!==t[i]?n+=o+"{"+t[i]+"}":Qr(i)&&(n+=en(o)+":"+tn(o,i)+";");else if(!Array.isArray(i)||"string"!==typeof i[0]||null!=t&&void 0!==t[i[0]]){var s=rn(e,t,i,!1);switch(o){case"animation":case"animationName":n+=en(o)+":"+s+";";break;default:n+=o+"{"+s+"}"}}else for(var c=0;c<i.length;c++)Qr(i[c])&&(n+=en(o)+":"+tn(o,i[c])+";")}return n}(e,t,r);case"function":if(void 0!==e){var o=nn,i=r(e);return nn=o,rn(e,t,i,n)}break;case"string":}if(null==t)return r;var s=t[r];return void 0===s||n?r:s}var nn,an=/label:\s*([^\s;\n{]+)\s*;/g;var on=function(e,t,r){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,a="";nn=void 0;var o=e[0];null==o||void 0===o.raw?(n=!1,a+=rn(r,t,o,!1)):a+=o[0];for(var i=1;i<e.length;i++)a+=rn(r,t,e[i],46===a.charCodeAt(a.length-1)),n&&(a+=o[i]);an.lastIndex=0;for(var s,c="";null!==(s=an.exec(a));)c+="-"+s[1];return{name:Jr(a)+c,styles:a,next:nn}};function sn(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]):n+=r+" "})),n}var cn=function(e,t,r){var n=e.key+"-"+t.name;if(!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles),void 0===e.inserted[t.name]){var a=t;do{e.insert("."+n,a,e.sheet,!0);a=a.next}while(void 0!==a)}};function ln(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function un(e,t,r){var n=[],a=sn(e,n,r);return n.length<2?r:a+t(n)}var fn=function e(t){for(var r="",n=0;n<t.length;n++){var a=t[n];if(null!=a){var o=void 0;switch(typeof a){case"boolean":break;case"object":if(Array.isArray(a))o=e(a);else for(var i in o="",a)a[i]&&i&&(o&&(o+=" "),o+=i);break;default:o=a}o&&(r&&(r+=" "),r+=o)}}return r},dn=function(e){var t=Hr(e);t.sheet.speedy=function(e){this.isSpeedy=e},t.compat=!0;var r=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=on(r,t.registered,void 0);return cn(t,a,!1),t.key+"-"+a.name};return{css:r,cx:function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return un(t.registered,r,fn(n))},injectGlobal:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=on(r,t.registered);ln(t,a)},keyframes:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=on(r,t.registered),o="animation-"+a.name;return ln(t,{name:a.name,styles:"@keyframes "+o+"{"+a.styles+"}"}),o},hydrate:function(e){e.forEach((function(e){t.inserted[e]=!0}))},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:sn.bind(null,t.registered),merge:un.bind(null,t.registered,r)}}(),hn=(dn.flush,dn.hydrate,dn.cx),pn=(dn.merge,dn.getRegisteredStyles,dn.injectGlobal,dn.keyframes,dn.css);dn.sheet,dn.cache;function vn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var gn=new WeakMap,mn=new WeakMap;class yn{}class bn extends yn{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super();var{offset:t,path:r}=e;this.offset=t,this.path=r}}class wn extends yn{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super();var{offset:t,path:r}=e;this.offset=t,this.path=r}}var xn=e=>mn.get(e);function On(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?On(Object(r),!0).forEach((function(t){vn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):On(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var En=new WeakSet,Cn=e=>{var t=[],r=e=>{if(null!=e){var n=t[t.length-1];if("string"===typeof e){var a={text:e};En.add(a),e=a}if(Qe.isText(e)){var o=e;Qe.isText(n)&&En.has(n)&&En.has(o)&&Qe.equals(n,o,{loose:!0})?n.text+=o.text:t.push(o)}else if(Te.isElement(e))t.push(e);else{if(!(e instanceof yn))throw new Error("Unexpected hyperscript child object: ".concat(e));var i=t[t.length-1];Qe.isText(i)||(r(""),i=t[t.length-1]),e instanceof bn?((e,t)=>{var r=e.text.length;gn.set(e,[r,t])})(i,e):e instanceof wn&&((e,t)=>{var r=e.text.length;mn.set(e,[r,t])})(i,e)}}};for(var n of e.flat(1/0))r(n);return t};function Pn(e,t,r){return kn({},t,{children:Cn(r)})}function An(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?An(Object(r),!0).forEach((function(t){vn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):An(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var jn={anchor:function(e,t,r){return new bn(t)},cursor:function(e,t,r){return[new bn(t),new wn(t)]},editor:function(e,t,r){var n,a=[];for(var o of r)Ge.isRange(o)?n=o:a.push(o);var i,s=Cn(a),c={},l=ht();for(var[u,f]of(Object.assign(l,t),l.children=s,Le.texts(l))){var d=(i=u,gn.get(i)),h=xn(u);if(null!=d){var[p]=d;c.anchor={path:f,offset:p}}if(null!=h){var[v]=h;c.focus={path:f,offset:v}}}if(c.anchor&&!c.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<anchor />`. For collapsed selections, use `<cursor />` instead.");if(!c.anchor&&c.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<focus />`. For collapsed selections, use `<cursor />` instead.");return null!=n?l.selection=n:Ge.isRange(c)&&(l.selection=c),l},element:Pn,focus:function(e,t,r){return new wn(t)},fragment:function(e,t,r){return Cn(r)},selection:function(e,t,r){var n=r.find((e=>e instanceof bn)),a=r.find((e=>e instanceof wn));if(!n||null==n.offset||null==n.path)throw new Error("The <selection> hyperscript tag must have an <anchor> tag as a child with `path` and `offset` attributes defined.");if(!a||null==a.offset||null==a.path)throw new Error("The <selection> hyperscript tag must have a <focus> tag as a child with `path` and `offset` attributes defined.");return kn({anchor:{offset:n.offset,path:n.path},focus:{offset:a.offset,path:a.path}},t)},text:function(e,t,r){var n=Cn(r);if(n.length>1)throw new Error("The <text> hyperscript tag must only contain a single node's worth of children.");var[a]=n;if(null==a&&(a={text:""}),!Qe.isText(a))throw new Error("\n    The <text> hyperscript tag can only contain text content as children.");return En.delete(a),Object.assign(a,t),a}},Dn=e=>function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];var i=e[t];if(!i)throw new Error("No hyperscript creator found for tag: <".concat(t,">"));null==r&&(r={}),c(r)||(a=[r].concat(a),r={});var s=i(t,r,a=a.filter((e=>Boolean(e))).flat());return s},Sn=e=>{var t={},r=function(r){var n=e[r];if("object"!==typeof n)throw new Error("Properties specified for a hyperscript shorthand should be an object, but for the custom element <".concat(r,">  tag you passed: ").concat(n));t[r]=(e,t,r)=>Pn(0,Fn({},n,{},t),r)};for(var n in e)r(n);return t},Nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{elements:t={}}=e,r=Sn(t),n=Fn({},jn,{},r,{},e.creators),a=Dn(n);return a}(),Bn=r(5573),Mn=r.n(Bn);function Rn(){return(Rn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}const _n=n.forwardRef((({className:e,active:t,reversed:r,...a},o)=>n.createElement("span",Rn({},a,{ref:o,className:hn(e,pn`
          cursor: pointer;
          color: ${r?t?"white":"#aaa":t?"black":"#ccc"};
        `)})))),Tn=n.forwardRef((({className:e,...t},r)=>n.createElement("span",Rn({},t,{ref:r,className:hn("material-icons",e,pn`
        font-size: 18px;
        vertical-align: text-bottom;
      `)})))),zn=n.forwardRef((({className:e,...t},r)=>n.createElement("div",Rn({},t,{ref:r,className:hn(e,pn`
        & > * {
          display: inline-block;
        }
        & > * + * {
          margin-left: 15px;
        }
      `)})))),Ln=({children:e})=>Pt.createPortal(e,document.body),Wn={BLOCKQUOTE:()=>({type:"block-quote"}),H1:()=>({type:"heading-one"}),H2:()=>({type:"heading-two"}),LI:()=>({type:"list-item"}),UL:()=>({type:"bulleted-list"}),OL:()=>({type:"numbered-list"}),P:()=>({type:"paragraph"})},In={CODE:()=>({code:!0}),EM:()=>({italic:!0}),STRONG:()=>({bold:!0}),U:()=>({underlined:!0})},qn=e=>{if(Qe.isText(e))return(e=>(e.text=e.text&&Mn()(e.text),e.bold&&(e.text=`<strong>${e.text}</strong>`),e.italic&&(e.text=`<em>${e.text}</em>`),e.underlined&&(e.text=`<u>${e.text}</u>`),e.code&&(e.text=`<code>${e.text}</code>`),e.text))({...e});const t=e.children.map((e=>qn(e))).join("");switch(e.type){case"block-quote":return`<blockquote>${t}</blockquote>`;case"bulleted-list":return`<ul>${t}</ul>`;case"heading-one":return`<h1>${t}</h1>`;case"heading-two":return`<h2>${t}</h2>`;case"list-item":return`<li>${t}</li>`;case"numbered-list":return`<ol>${t}</ol>`;case"paragraph":return`<p>${t}</p>`;default:return t}},$n=e=>{if(3===e.nodeType)return e.textContent;if(1!==e.nodeType)return null;if("BR"===e.nodeName)return"\n";const{nodeName:t}=e;let r=e;"PRE"===t&&e.childNodes[0]&&"CODE"===e.childNodes[0].nodeName&&(r=e.childNodes[0]);const n=Array.from(r.childNodes).map($n).flat();if("BODY"===e.nodeName)return Nn("fragment",{},n);if(Wn[t]){const r=Wn[t](e),a=0===n.length?[""]:n;return Nn("element",r,a)}if(In[t]){const r=In[t](e);return n.map((e=>Nn("text",r,e)))}return n},Vn=(e,t)=>{const[r]=_e.nodes(e,{match:e=>e.type===t});return!!r},Kn=(e,t)=>{const[r]=_e.nodes(e,{match:e=>!0===e[t],mode:"all"});return!!r},Un=["numbered-list","bulleted-list"],Hn=({format:e,icon:t})=>{const r=Qt();return n.createElement(_n,{reversed:!0,active:Vn(r,e),onMouseDown:t=>{t.preventDefault(),((e,t)=>{const r=Vn(e,t),n=Un.includes(t);if(ut.unwrapNodes(e,{match:e=>Un.includes(e.type),split:!0}),ut.setNodes(e,{type:r?"paragraph":n?"list-item":t}),!r&&n){const r={type:t,children:[]};ut.wrapNodes(e,r)}})(r,e)}},n.createElement(Tn,null,t))},Jn=({format:e,icon:t})=>{const r=Qt();return n.createElement(_n,{reversed:!0,active:Kn(r,e),onMouseDown:t=>{t.preventDefault(),((e,t)=>{const r=Kn(e,t);ut.setNodes(e,{[t]:!r||null},{match:Qe.isText,split:!0})})(r,e)}},n.createElement(Tn,null,t))},Gn=()=>{const e=(0,n.useRef)(),t=Qt();return(0,n.useEffect)((()=>{const r=e.current,{selection:n}=t;if(!r)return;if(!n||!Jt.isFocused(t)||Ge.isCollapsed(n)||""===_e.string(t,n))return void r.removeAttribute("style");const a=window.getSelection().getRangeAt(0).getBoundingClientRect();r.style.opacity=1,r.style.top=a.top+window.pageYOffset-r.offsetHeight+"px",r.style.left=a.left+window.pageXOffset-r.offsetWidth/2+a.width/2+"px"})),n.createElement(Ln,null,n.createElement(zn,{ref:e,className:pn`
          padding: 8px 7px 6px;
          position: absolute;
          z-index: 1;
          top: -10000px;
          left: -10000px;
          margin-top: -6px;
          opacity: 0;
          background-color: #222;
          border-radius: 4px;
          transition: opacity 0.75s;
        `},n.createElement(Jn,{format:"bold",icon:"format_bold"}),n.createElement(Jn,{format:"italic",icon:"format_italic"}),n.createElement(Jn,{format:"underlined",icon:"format_underlined"}),n.createElement(Jn,{format:"code",icon:"code"}),n.createElement(Hn,{format:"heading-one",icon:"looks_one"}),n.createElement(Hn,{format:"heading-two",icon:"looks_two"}),n.createElement(Hn,{format:"block-quote",icon:"format_quote"}),n.createElement(Hn,{format:"numbered-list",icon:"format_list_numbered"}),n.createElement(Hn,{format:"bulleted-list",icon:"format_list_bulleted"})))},Yn=({attributes:e,children:t,leaf:r})=>(r.bold&&(t=n.createElement("strong",null,t)),r.italic&&(t=n.createElement("em",null,t)),r.underlined&&(t=n.createElement("u",null,t)),r.code&&(t=n.createElement("code",null,t)),n.createElement("span",e,t)),Xn=({attributes:e,children:t,element:r})=>{switch(r.type){case"block-quote":return n.createElement("blockquote",e,t);case"bulleted-list":return n.createElement("ul",e,t);case"heading-one":return n.createElement("h1",e,t);case"heading-two":return n.createElement("h2",e,t);case"list-item":return n.createElement("li",e,t);case"numbered-list":return n.createElement("ol",e,t);case"paragraph":default:return n.createElement("p",e,t)}},Zn=({saveMessage:e="saving...",onSave:t,header:r="Write your story",loading:a,initialContent:o})=>{const[i,s]=(0,n.useState)(Qn),c=(0,n.useMemo)((()=>((e,t)=>{const{normalizeNode:r}=e;return e.normalizeNode=([t,n])=>{if(0===n.length){if(e.children.length<1){const t={type:"heading-one",children:[{text:""}]};ut.insertNodes(e,t,{at:n.concat(0)})}if(e.children.length<2){const t={type:"heading-two",children:[{text:""}]};ut.insertNodes(e,t,{at:n.concat(1)})}if(e.children.length<3){const t={type:"paragraph",children:[{text:""}]};ut.insertNodes(e,t,{at:n.concat(2)})}for(const[t,r]of Le.children(e,n)){const n=0===r[0]?"heading-one":1===r[0]?"heading-two":"paragraph";(0===r[0]||1===r[0]||2===r[0])&&t.type!==n&&ut.setNodes(e,{type:n},{at:r})}}return r([t,n])},e})((e=>{var t=e,{apply:r}=t;return t.history={undos:[],redos:[]},t.redo=()=>{var{history:e}=t,{redos:r}=e;if(r.length>0){var n=r[r.length-1];_r.withoutSaving(t,(()=>{_e.withoutNormalizing(t,(()=>{for(var e of n)t.apply(e)}))})),e.redos.pop(),e.undos.push(n)}},t.undo=()=>{var{history:e}=t,{undos:r}=e;if(r.length>0){var n=r[r.length-1];_r.withoutSaving(t,(()=>{_e.withoutNormalizing(t,(()=>{var e=n.map(qe.inverse).reverse();for(var r of e)r===e[e.length-1]&&"set_selection"===r.type&&null==r.newProperties||t.apply(r)}))})),e.redos.push(n),e.undos.pop()}},t.apply=e=>{var{operations:n,history:a}=t,{undos:o}=a,i=o[o.length-1],s=i&&i[i.length-1],c=Lr(e,s),l=_r.isSaving(t),u=_r.isMerging(t);if(null==l&&(l=zr(e)),l){if(null==u&&(u=null!=i&&(0!==n.length||Tr(e,s)||c)),i&&u)c&&i.pop(),i.push(e);else{var f=[e];o.push(f)}for(;o.length>100;)o.shift();Wr(e)&&(a.redos=[])}r(e)},t})(nr(ht())))),[]),l=(0,n.useCallback)((e=>n.createElement(Xn,e)),[]),u=(0,n.useCallback)((e=>n.createElement(Yn,e)),[]);(0,n.useEffect)((()=>{if(o){const e=(new DOMParser).parseFromString(o,"text/html"),t=$n(e.body);t&&1===t.length&&t[0].text?(t[0].children=[{...t[0]}],t[0].type="paragraph",delete t[0].text,s([...Qn,...t])):s($n(e.body))}}),[o]);const f=()=>{const e=qn({children:i}),r=i[0]&&i[0].children.map((e=>e.text)).join("")||"",n=i[1]&&i[1].children.map((e=>e.text)).join("")||"";t({content:e,title:r,subTitle:n})};return n.createElement("div",{className:"slate-container"},n.createElement("div",{className:"editor-header"},n.createElement("div",{className:"editor-title"},r),n.createElement("div",{className:"save-button-container"},a&&n.createElement("div",{className:"save-message"},e),n.createElement("button",{onClick:f,className:"btn btn-success"},"Save"))),n.createElement("hr",null),n.createElement(er,{editor:c,value:i,onChange:e=>s(e)},n.createElement(Gn,null),n.createElement(Ar,{renderElement:l,renderLeaf:u,onKeyDown:e=>{a||83!==e.which||!e.ctrlKey&&!e.metaKey||(e.preventDefault(),f())}}),n.createElement("style",null,'\n            @import url("https://fonts.googleapis.com/icon?family=Material+Icons");\n          ')))},Qn=[{type:"heading-one",children:[{text:"Title"}]},{type:"heading-two",children:[{text:"Subtitle"}]}],ea=({initialContent:e})=>{const[t,r]=(0,n.useState)([]),a=(0,n.useMemo)((()=>nr(ht())),[]),o=(0,n.useCallback)((e=>n.createElement(c,e)),[]),i=(0,n.useCallback)((e=>n.createElement(s,e)),[]),s=({attributes:e,children:t,leaf:r})=>(r.bold&&(t=n.createElement("strong",null,t)),r.italic&&(t=n.createElement("em",null,t)),r.underlined&&(t=n.createElement("u",null,t)),r.code&&(t=n.createElement("code",null,t)),n.createElement("span",e,t)),c=({attributes:e,children:t,element:r})=>{switch(r.type){case"block-quote":return n.createElement("blockquote",e,t);case"bulleted-list":return n.createElement("ul",e,t);case"heading-one":return n.createElement("h1",e,t);case"heading-two":return n.createElement("h2",e,t);case"list-item":return n.createElement("li",e,t);case"numbered-list":return n.createElement("ol",e,t);case"paragraph":default:return n.createElement("p",e,t)}};return(0,n.useEffect)((()=>{if(e){const t=(new DOMParser).parseFromString(e,"text/html");r($n(t.body))}}),[e]),n.createElement(er,{editor:a,value:t,onChange:e=>r(e)},n.createElement(Ar,{readOnly:!0,renderElement:o,renderLeaf:i}))}}}]);