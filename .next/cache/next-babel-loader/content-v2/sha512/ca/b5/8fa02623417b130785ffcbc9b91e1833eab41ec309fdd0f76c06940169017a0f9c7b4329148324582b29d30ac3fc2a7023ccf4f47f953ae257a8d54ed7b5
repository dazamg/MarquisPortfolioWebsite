{"ast":null,"code":"import PortfolioApi from '@/serv/api/portfolios';\nimport auth0 from '@/utils/auth0';\nexport default async function handlePortfolio(req, res) {\n  if (req.method === 'GET') {\n    const json = await new PortfolioApi().getById(req.query.id);\n    return res.json(json.data);\n  }\n\n  if (req.method === 'PATCH') {\n    const {\n      accessToken\n    } = await auth0.getSession(req);\n    const json = await new PortfolioApi(accessToken).update(req.query.id, req.body);\n    return res.json(json.data);\n  }\n}","map":{"version":3,"sources":["/Users/kishonst.clair/Desktop/PortfolioWebsite/kishon-portfolio-website/pages/api/v1/portfolios/[id].js"],"names":["PortfolioApi","auth0","handlePortfolio","req","res","method","json","getById","query","id","data","accessToken","getSession","update","body"],"mappings":"AAAA,OAAOA,YAAP,MAAyB,uBAAzB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AAGA,eAAe,eAAeC,eAAf,CAA+BC,GAA/B,EAAoCC,GAApC,EAAyC;AACtD,MAAID,GAAG,CAACE,MAAJ,KAAe,KAAnB,EAA0B;AACxB,UAAMC,IAAI,GAAG,MAAM,IAAIN,YAAJ,GAAmBO,OAAnB,CAA2BJ,GAAG,CAACK,KAAJ,CAAUC,EAArC,CAAnB;AACA,WAAOL,GAAG,CAACE,IAAJ,CAASA,IAAI,CAACI,IAAd,CAAP;AACD;;AAED,MAAIP,GAAG,CAACE,MAAJ,KAAe,OAAnB,EAA4B;AAC1B,UAAM;AAAEM,MAAAA;AAAF,QAAkB,MAAMV,KAAK,CAACW,UAAN,CAAiBT,GAAjB,CAA9B;AACA,UAAMG,IAAI,GAAG,MAAM,IAAIN,YAAJ,CAAiBW,WAAjB,EAA8BE,MAA9B,CAAqCV,GAAG,CAACK,KAAJ,CAAUC,EAA/C,EAAmDN,GAAG,CAACW,IAAvD,CAAnB;AACA,WAAOV,GAAG,CAACE,IAAJ,CAASA,IAAI,CAACI,IAAd,CAAP;AACD;AACF","sourcesContent":["import PortfolioApi from '@/serv/api/portfolios';\nimport auth0 from '@/utils/auth0';\n\n\nexport default async function handlePortfolio(req, res) {\n  if (req.method === 'GET') {\n    const json = await new PortfolioApi().getById(req.query.id);\n    return res.json(json.data);\n  }\n\n  if (req.method === 'PATCH') {\n    const { accessToken } = await auth0.getSession(req);\n    const json = await new PortfolioApi(accessToken).update(req.query.id, req.body);\n    return res.json(json.data);\n  }\n}"]},"metadata":{},"sourceType":"module"}