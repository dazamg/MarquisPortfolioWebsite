{"ast":null,"code":"import PortfolioApi from '@/serv/api/portfolios';\nimport auth0 from '@/utils/auth0';\nexport default async function handlePortfolio(req, res) {\n  console.log(req.method);\n\n  if (req.method === 'GET') {\n    const json = await new PortfolioApi().getById(req.query.id);\n    return res.json(json.data);\n  }\n\n  if (req.method === 'PATCH') {\n    const {\n      accessToken\n    } = await auth0.getSession(req);\n    const json = await PortfolioApi(accessToken).update(req.query.id, req.body);\n    return res.json(json.data);\n  }\n}","map":{"version":3,"sources":["/Users/kishonst.clair/Desktop/PortfolioWebsite/kishon-portfolio-website/pages/api/v1/portfolios/[id].js"],"names":["PortfolioApi","auth0","handlePortfolio","req","res","console","log","method","json","getById","query","id","data","accessToken","getSession","update","body"],"mappings":"AAAA,OAAOA,YAAP,MAAyB,uBAAzB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AAGA,eAAe,eAAeC,eAAf,CAA+BC,GAA/B,EAAoCC,GAApC,EAAyC;AACtDC,EAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACI,MAAhB;;AACA,MAAGJ,GAAG,CAACI,MAAJ,KAAe,KAAlB,EAAyB;AACvB,UAAMC,IAAI,GAAG,MAAM,IAAIR,YAAJ,GAAmBS,OAAnB,CAA2BN,GAAG,CAACO,KAAJ,CAAUC,EAArC,CAAnB;AACA,WAAOP,GAAG,CAACI,IAAJ,CAASA,IAAI,CAACI,IAAd,CAAP;AACD;;AAED,MAAGT,GAAG,CAACI,MAAJ,KAAe,OAAlB,EAA2B;AACzB,UAAM;AAAEM,MAAAA;AAAF,QAAkB,MAAMZ,KAAK,CAACa,UAAN,CAAiBX,GAAjB,CAA9B;AACA,UAAMK,IAAI,GAAG,MAAMR,YAAY,CAACa,WAAD,CAAZ,CAA0BE,MAA1B,CAAiCZ,GAAG,CAACO,KAAJ,CAAUC,EAA3C,EAA+CR,GAAG,CAACa,IAAnD,CAAnB;AACA,WAAOZ,GAAG,CAACI,IAAJ,CAASA,IAAI,CAACI,IAAd,CAAP;AACD;AACF","sourcesContent":["import PortfolioApi from '@/serv/api/portfolios';\nimport auth0 from '@/utils/auth0';\n\n\nexport default async function handlePortfolio(req, res) {\n  console.log(req.method)\n  if(req.method === 'GET') {\n    const json = await new PortfolioApi().getById(req.query.id);\n    return res.json(json.data);\n  }\n\n  if(req.method === 'PATCH') {\n    const { accessToken } = await auth0.getSession(req)\n    const json = await PortfolioApi(accessToken).update(req.query.id, req.body);\n    return res.json(json.data);\n  }\n}"]},"metadata":{},"sourceType":"module"}