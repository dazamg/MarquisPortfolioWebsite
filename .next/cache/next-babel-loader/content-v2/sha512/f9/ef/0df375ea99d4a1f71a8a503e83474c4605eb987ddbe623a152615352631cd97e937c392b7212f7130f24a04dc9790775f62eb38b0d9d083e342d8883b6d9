{"ast":null,"code":"import _defineProperty from \"/Users/kishonst.clair/Desktop/PortfolioWebsite/kishon-portfolio-website/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/kishonst.clair/Desktop/PortfolioWebsite/kishon-portfolio-website/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _regeneratorRuntime from \"/Users/kishonst.clair/Desktop/PortfolioWebsite/kishon-portfolio-website/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/kishonst.clair/Desktop/PortfolioWebsite/kishon-portfolio-website/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nexport var fetcher = function fetcher(url) {\n  return fetch(url).then( /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(res) {\n      var result;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return res.json();\n\n            case 2:\n              result = _context.sent;\n\n              if (!(res.status !== 200)) {\n                _context.next = 7;\n                break;\n              }\n\n              return _context.abrupt(\"return\", Promise.reject(result));\n\n            case 7:\n              return _context.abrupt(\"return\", result);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n};\nexport function useApiHandler() {\n  _s();\n\n  var _useState = useState({\n    error: null,\n    data: null,\n    loading: false\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      reqState = _useState2[0],\n      setReqState = _useState2[1];\n\n  var chandler = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var json,\n          message,\n          _args2 = arguments;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setReqState({\n                error: null,\n                data: null,\n                loading: true\n              });\n              _context2.prev = 1;\n              _context2.next = 4;\n              return createPortfolio.apply(void 0, _args2);\n\n            case 4:\n              json = _context2.sent;\n              debugger;\n              setReqState({\n                error: null,\n                data: json.data,\n                loading: false\n              });\n              _context2.next = 14;\n              break;\n\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](1);\n              debugger;\n              message = _context2.t0.response && _context2.t0.response.message || 'Ooops, something went wrong...';\n              setReqState({\n                error: message,\n                data: null,\n                loading: false\n              });\n\n            case 14:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 9]]);\n    }));\n\n    return function chandler() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return [createPortfolioHandler, _objectSpread({}, reqState)];\n}\n\n_s(useApiHandler, \"fS9C8Z3qCMODhVT8/m5K15KEqVg=\");","map":{"version":3,"sources":["/Users/kishonst.clair/Desktop/PortfolioWebsite/kishon-portfolio-website/functions/index.js"],"names":["fetcher","url","fetch","then","res","json","result","status","Promise","reject","useApiHandler","useState","error","data","loading","reqState","setReqState","chandler","createPortfolio","message","response","createPortfolioHandler"],"mappings":";;;;;;;;;;;AAEA,OAAO,IAAMA,OAAO,GAAG,SAAVA,OAAU,CAACC,GAAD;AAAA,SACvBC,KAAK,CAACD,GAAD,CAAL,CAAWE,IAAX;AAAA,wEAAgB,iBAAMC,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACSA,GAAG,CAACC,IAAJ,EADT;;AAAA;AACNC,cAAAA,MADM;;AAAA,oBAGTF,GAAG,CAACG,MAAJ,KAAe,GAHN;AAAA;AAAA;AAAA;;AAAA,+CAIDC,OAAO,CAACC,MAAR,CAAeH,MAAf,CAJC;;AAAA;AAAA,+CAMDA,MANC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAhB;;AAAA;AAAA;AAAA;AAAA,MADuB;AAAA,CAAhB;AAWP,OAAO,SAASI,aAAT,GAAyB;AAAA;;AAAA,kBACIC,QAAQ,CAAC;AACvCC,IAAAA,KAAK,EAAE,IADgC;AAEvCC,IAAAA,IAAI,EAAE,IAFiC;AAGvCC,IAAAA,OAAO,EAAE;AAH8B,GAAD,CADZ;AAAA;AAAA,MACrBC,QADqB;AAAA,MACXC,WADW;;AAO5B,MAAMC,QAAQ;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACfD,cAAAA,WAAW,CAAC;AAACJ,gBAAAA,KAAK,EAAE,IAAR;AAAcC,gBAAAA,IAAI,EAAE,IAApB;AAA0BC,gBAAAA,OAAO,EAAE;AAAnC,eAAD,CAAX;AADe;AAAA;AAAA,qBAGMI,eAAe,MAAf,gBAHN;;AAAA;AAGPb,cAAAA,IAHO;AAIb;AACAW,cAAAA,WAAW,CAAC;AAACJ,gBAAAA,KAAK,EAAE,IAAR;AAAcC,gBAAAA,IAAI,EAAER,IAAI,CAACQ,IAAzB;AAA+BC,gBAAAA,OAAO,EAAE;AAAxC,eAAD,CAAX;AALa;AAAA;;AAAA;AAAA;AAAA;AAOb;AACMK,cAAAA,OARO,GAQI,aAAEC,QAAF,IAAc,aAAEA,QAAF,CAAWD,OAA1B,IAAsC,gCARzC;AASbH,cAAAA,WAAW,CAAC;AAACJ,gBAAAA,KAAK,EAAEO,OAAR;AAAiBN,gBAAAA,IAAI,EAAE,IAAvB;AAA6BC,gBAAAA,OAAO,EAAE;AAAtC,eAAD,CAAX;;AATa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAARG,QAAQ;AAAA;AAAA;AAAA,KAAd;;AAaA,SAAO,CAACI,sBAAD,oBAA6BN,QAA7B,EAAP;AACH;;GArBeL,a","sourcesContent":["\n\nexport const fetcher = (url) => \nfetch(url).then(async res => {\n    const result = await res.json();\n\n    if(res.status !== 200) {\n        return Promise.reject(result);\n    } else {\n        return result;\n    }\n})\n\nexport function useApiHandler() {\n    const [reqState, setReqState] = useState({\n      error: null,\n      data: null,\n      loading: false\n    });\n  \n    const chandler = async (...data) => {\n      setReqState({error: null, data: null, loading: true});\n      try {\n        const json = await createPortfolio(...data);\n        debugger\n        setReqState({error: null, data: json.data, loading: false});\n      } catch(e) {\n        debugger\n        const message = (e.response && e.response.message) || 'Ooops, something went wrong...';\n        setReqState({error: message, data: null, loading: false});\n      }\n    }\n  \n    return [createPortfolioHandler, {...reqState}]\n}\n"]},"metadata":{},"sourceType":"module"}