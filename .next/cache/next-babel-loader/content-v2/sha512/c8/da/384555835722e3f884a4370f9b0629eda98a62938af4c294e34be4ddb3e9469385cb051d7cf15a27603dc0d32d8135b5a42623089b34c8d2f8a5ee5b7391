{"ast":null,"code":"import PortfolioApi from '@/serv/api/portfolios';\nimport auth0 from '@/utils/auth0';\nexport default async function handlePortfolio(req, res) {\n  con;\n\n  if (req.method === 'GET') {\n    const json = await new PortfolioApi().getById(req.query.id);\n    return res.json(json.data);\n  }\n\n  if (req.method === 'PATCH') {\n    const {\n      accessToken\n    } = await auth0.getSession(req);\n    const json = await PortfolioApi(accessToken).update(req.query.id, req.body);\n    return res.json(json.data);\n  }\n}","map":{"version":3,"sources":["/Users/kishonst.clair/Desktop/PortfolioWebsite/kishon-portfolio-website/pages/api/v1/portfolios/[id].js"],"names":["PortfolioApi","auth0","handlePortfolio","req","res","con","method","json","getById","query","id","data","accessToken","getSession","update","body"],"mappings":"AAAA,OAAOA,YAAP,MAAyB,uBAAzB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AAGA,eAAe,eAAeC,eAAf,CAA+BC,GAA/B,EAAoCC,GAApC,EAAyC;AACtDC,EAAAA,GAAG;;AACH,MAAGF,GAAG,CAACG,MAAJ,KAAe,KAAlB,EAAyB;AACvB,UAAMC,IAAI,GAAG,MAAM,IAAIP,YAAJ,GAAmBQ,OAAnB,CAA2BL,GAAG,CAACM,KAAJ,CAAUC,EAArC,CAAnB;AACA,WAAON,GAAG,CAACG,IAAJ,CAASA,IAAI,CAACI,IAAd,CAAP;AACD;;AAED,MAAGR,GAAG,CAACG,MAAJ,KAAe,OAAlB,EAA2B;AACzB,UAAM;AAAEM,MAAAA;AAAF,QAAkB,MAAMX,KAAK,CAACY,UAAN,CAAiBV,GAAjB,CAA9B;AACA,UAAMI,IAAI,GAAG,MAAMP,YAAY,CAACY,WAAD,CAAZ,CAA0BE,MAA1B,CAAiCX,GAAG,CAACM,KAAJ,CAAUC,EAA3C,EAA+CP,GAAG,CAACY,IAAnD,CAAnB;AACA,WAAOX,GAAG,CAACG,IAAJ,CAASA,IAAI,CAACI,IAAd,CAAP;AACD;AACF","sourcesContent":["import PortfolioApi from '@/serv/api/portfolios';\nimport auth0 from '@/utils/auth0';\n\n\nexport default async function handlePortfolio(req, res) {\n  con\n  if(req.method === 'GET') {\n    const json = await new PortfolioApi().getById(req.query.id);\n    return res.json(json.data);\n  }\n\n  if(req.method === 'PATCH') {\n    const { accessToken } = await auth0.getSession(req)\n    const json = await PortfolioApi(accessToken).update(req.query.id, req.body);\n    return res.json(json.data);\n  }\n}"]},"metadata":{},"sourceType":"module"}