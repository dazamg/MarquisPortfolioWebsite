{"ast":null,"code":"import PortfolioApi from '@/serv/api/portfolios';\nimport auth0 from '@/utils/auth0';\nexport default async function handlePortfolio(req, res) {\n  if (req.method === 'GET') {\n    const json = await new PortfolioApi().getById(req.query.id);\n    return res.json(json.data);\n  }\n\n  if (req.method === 'PATCH') {\n    try {\n      const {\n        accessToken\n      } = await auth0.getSession(req);\n      const json = await new PortfolioApi(accessToken).update(req.query.id, req.body);\n      return res.json(json.data);\n    } catch (e) {\n      return res.status(e.status || 422).json(e.response.data);\n    }\n  }\n}","map":{"version":3,"sources":["/Users/kishonst.clair/Desktop/PortfolioWebsite/kishon-portfolio-website/pages/api/v1/portfolios/[id].js"],"names":["PortfolioApi","auth0","handlePortfolio","req","res","method","json","getById","query","id","data","accessToken","getSession","update","body","e","status","response"],"mappings":"AAAA,OAAOA,YAAP,MAAyB,uBAAzB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AAGA,eAAe,eAAeC,eAAf,CAA+BC,GAA/B,EAAoCC,GAApC,EAAyC;AACtD,MAAID,GAAG,CAACE,MAAJ,KAAe,KAAnB,EAA0B;AACxB,UAAMC,IAAI,GAAG,MAAM,IAAIN,YAAJ,GAAmBO,OAAnB,CAA2BJ,GAAG,CAACK,KAAJ,CAAUC,EAArC,CAAnB;AACA,WAAOL,GAAG,CAACE,IAAJ,CAASA,IAAI,CAACI,IAAd,CAAP;AACD;;AAED,MAAIP,GAAG,CAACE,MAAJ,KAAe,OAAnB,EAA4B;AAC1B,QAAI;AACF,YAAM;AAAEM,QAAAA;AAAF,UAAkB,MAAMV,KAAK,CAACW,UAAN,CAAiBT,GAAjB,CAA9B;AACA,YAAMG,IAAI,GAAG,MAAM,IAAIN,YAAJ,CAAiBW,WAAjB,EAA8BE,MAA9B,CAAqCV,GAAG,CAACK,KAAJ,CAAUC,EAA/C,EAAmDN,GAAG,CAACW,IAAvD,CAAnB;AACA,aAAOV,GAAG,CAACE,IAAJ,CAASA,IAAI,CAACI,IAAd,CAAP;AACD,KAJD,CAIE,OAAMK,CAAN,EAAS;AACT,aAAOX,GAAG,CAACY,MAAJ,CAAWD,CAAC,CAACC,MAAF,IAAY,GAAvB,EAA4BV,IAA5B,CAAiCS,CAAC,CAACE,QAAF,CAAWP,IAA5C,CAAP;AACD;AACF;AACF","sourcesContent":["import PortfolioApi from '@/serv/api/portfolios';\nimport auth0 from '@/utils/auth0';\n\n\nexport default async function handlePortfolio(req, res) {\n  if (req.method === 'GET') {\n    const json = await new PortfolioApi().getById(req.query.id);\n    return res.json(json.data);\n  }\n\n  if (req.method === 'PATCH') {\n    try {\n      const { accessToken } = await auth0.getSession(req);\n      const json = await new PortfolioApi(accessToken).update(req.query.id, req.body);\n      return res.json(json.data);\n    } catch(e) {\n      return res.status(e.status || 422).json(e.response.data);\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}