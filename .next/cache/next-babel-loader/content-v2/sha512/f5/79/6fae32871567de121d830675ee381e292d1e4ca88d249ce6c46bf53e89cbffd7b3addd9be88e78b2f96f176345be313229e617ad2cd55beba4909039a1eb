{"ast":null,"code":"import { initAuth0 } from '@auth0/nextjs-auth0';\nexport default initAuth0({\n  domain: process.env.AUTH0_DOMAIN,\n  clientId: process.env.AUTH0_CLIENTID,\n  clientSecret: process.env.AUTH0_CLIENTSECRET,\n  scope: 'openid profile',\n  redirectUri: process.env.AUTH0_REDIRECT_URI,\n  postLogoutRedirectUri: process.env.AUTH0_POSTLOGOUT_REDIRECT_URI,\n  session: {\n    cookieSecret: process.env.AUTH0_COOKIE_SECRET\n  }\n});\nexport const authorizeUser = async (req, res) => {\n  const session = await auth0.getSession(req);\n\n  if (!session || !session.user) {\n    res.writeHead(302, {\n      Location: '/api/v1/login'\n    });\n    res.end();\n    return null;\n  }\n\n  return session.user;\n};","map":{"version":3,"sources":["/Users/kishonst.clair/Desktop/PortfolioWebsite/kishon-portfolio-website/utils/auth0.js"],"names":["initAuth0","domain","process","env","AUTH0_DOMAIN","clientId","AUTH0_CLIENTID","clientSecret","AUTH0_CLIENTSECRET","scope","redirectUri","AUTH0_REDIRECT_URI","postLogoutRedirectUri","AUTH0_POSTLOGOUT_REDIRECT_URI","session","cookieSecret","AUTH0_COOKIE_SECRET","authorizeUser","req","res","auth0","getSession","user","writeHead","Location","end"],"mappings":"AAAA,SAASA,SAAT,QAA0B,qBAA1B;AAMA,eAAeA,SAAS,CAAC;AACvBC,EAAAA,MAAM,EAAEC,OAAO,CAACC,GAAR,CAAYC,YADG;AAEvBC,EAAAA,QAAQ,EAAEH,OAAO,CAACC,GAAR,CAAYG,cAFC;AAGvBC,EAAAA,YAAY,EAAEL,OAAO,CAACC,GAAR,CAAYK,kBAHH;AAIvBC,EAAAA,KAAK,EAAE,gBAJgB;AAKvBC,EAAAA,WAAW,EAAER,OAAO,CAACC,GAAR,CAAYQ,kBALF;AAMvBC,EAAAA,qBAAqB,EAAEV,OAAO,CAACC,GAAR,CAAYU,6BANZ;AAOvBC,EAAAA,OAAO,EAAE;AACPC,IAAAA,YAAY,EAAEb,OAAO,CAACC,GAAR,CAAYa;AADnB;AAPc,CAAD,CAAxB;AAYA,OAAO,MAAMC,aAAa,GAAG,OAAMC,GAAN,EAAWC,GAAX,KAAmB;AAC9C,QAAML,OAAO,GAAG,MAAMM,KAAK,CAACC,UAAN,CAAiBH,GAAjB,CAAtB;;AACA,MAAI,CAACJ,OAAD,IAAY,CAACA,OAAO,CAACQ,IAAzB,EAA+B;AAC7BH,IAAAA,GAAG,CAACI,SAAJ,CAAc,GAAd,EAAmB;AACjBC,MAAAA,QAAQ,EAAE;AADO,KAAnB;AAGAL,IAAAA,GAAG,CAACM,GAAJ;AACA,WAAO,IAAP;AACD;;AACD,SAAOX,OAAO,CAACQ,IAAf;AACD,CAVM","sourcesContent":["import { initAuth0 } from '@auth0/nextjs-auth0';\n\n\n\n\n\nexport default initAuth0({\n  domain: process.env.AUTH0_DOMAIN,\n  clientId: process.env.AUTH0_CLIENTID,\n  clientSecret: process.env.AUTH0_CLIENTSECRET,\n  scope: 'openid profile',\n  redirectUri: process.env.AUTH0_REDIRECT_URI,\n  postLogoutRedirectUri: process.env.AUTH0_POSTLOGOUT_REDIRECT_URI,\n  session: {\n    cookieSecret: process.env.AUTH0_COOKIE_SECRET,\n  },\n});\n\nexport const authorizeUser = async(req, res) => {\n  const session = await auth0.getSession(req);\n  if (!session || !session.user) {\n    res.writeHead(302, {\n      Location: '/api/v1/login'\n    });\n    res.end();\n    return null\n  }\n  return session.user \n}\n"]},"metadata":{},"sourceType":"module"}